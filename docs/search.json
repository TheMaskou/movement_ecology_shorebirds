[
  {
    "objectID": "qmd/teststart.html",
    "href": "qmd/teststart.html",
    "title": "start",
    "section": "",
    "text": "Me\nInterest\nProject (with UNI and CSRG) and objectives\nSupervisors\nFounders\n\nMaggie\nHBOC, CBOC, OFF, etc\n\nCollaborators\n\nHBOC\nDCEEW\nLLS\nDEA\nUNI\nCSRG"
  },
  {
    "objectID": "qmd/reports/testrep.html",
    "href": "qmd/reports/testrep.html",
    "title": "testrep",
    "section": "",
    "text": "Motus array\nCollaborators and Founders",
    "crumbs": [
      "Reports",
      "testrep"
    ]
  },
  {
    "objectID": "qmd/reports/testf1.html",
    "href": "qmd/reports/testf1.html",
    "title": "testf1",
    "section": "",
    "text": "Abstracts\nPresentations (talk)",
    "crumbs": [
      "Conferences",
      "testf1"
    ]
  },
  {
    "objectID": "qmd/chapter_1/test21.html",
    "href": "qmd/chapter_1/test21.html",
    "title": "test21",
    "section": "",
    "text": "test21",
    "crumbs": [
      "Test 2",
      "test21"
    ]
  },
  {
    "objectID": "qmd/chapter_1/test21.html#non-non",
    "href": "qmd/chapter_1/test21.html#non-non",
    "title": "test21",
    "section": "non non",
    "text": "non non\nd ddddddd dddddddddddd ddddddddd ddddddddddddd ddddddd dddddddddddd ddddddddd dddddddddddd dddd dddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd ddd ddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd dddd dddd d dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddd dddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd",
    "crumbs": [
      "Test 2",
      "test21"
    ]
  },
  {
    "objectID": "qmd/chapter_1/test21.html#oui-oui",
    "href": "qmd/chapter_1/test21.html#oui-oui",
    "title": "test21",
    "section": "oui oui",
    "text": "oui oui\nd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd dddddddddd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd ddddddddddddddd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd dddddd ddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddd dddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddd dddddddd ddddddddd dddddddddddd dddddddddddddddd dddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd",
    "crumbs": [
      "Test 2",
      "test21"
    ]
  },
  {
    "objectID": "qmd/chapter_1/test21.html#no-no",
    "href": "qmd/chapter_1/test21.html#no-no",
    "title": "test21",
    "section": "no no",
    "text": "no no\nd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d dddddddd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd d ddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd ddddddddddddddd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd ddddddddddd d ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd",
    "crumbs": [
      "Test 2",
      "test21"
    ]
  },
  {
    "objectID": "qmd/chapter_1/test21.html#oioi",
    "href": "qmd/chapter_1/test21.html#oioi",
    "title": "test21",
    "section": "oioi",
    "text": "oioi\nd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd ddddddddddddd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd ddddddd ddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd ddddddddddddddd ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd ddddddd ddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd ddddddd ddddddd d d dddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddd dddddddd d ddddddd dddddddddddd ddddddddd dddddddddddd dddddddddddddddddddddd dddddddddddddd dddddddddddddd",
    "crumbs": [
      "Test 2",
      "test21"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Movement Ecology - Shorebirds",
    "section": "",
    "text": "Movement & Spatial Ecology of Australian Shorebirds\n\n\nThis Research Project is conducted within the Center for Conservation Science by Maxime Marini (PhD candidate), Andrea S. Griffin (Associate Professor) and many other collaborators.\nThe project aims to better understand spatial and movement ecology of Australian shorebirds, as their behaviours within and across local estuaries of the Hunter and Port Stephens. Trying to address varied questions as where and when do they move? What roles tidal and circadian cycles are playing into these movements? Where and when birds are foraging and/or roosting? Do the species share or segregate their food resources? How much the inter-tidal areas (mudflats) extents infer demographic trends?\nWe collected our main data-set thanks to the valuable help of the Hunter Birder Observer Club of Newcastle, which allowed us to trap and equip birds with a band, a flag marker and a Motus Lotek Nano-tag. Blood and feathers were sampled and other bio-metrics were also taken.\n\n\n\nWe acknowledge that we are on the traditional lands of the Pambalong clan of the Awabakal nation, as we pay our respect to the Elders past, present and emerging.\nWe recognise that First Nations sovereignty was never ceded.\nThis continent always was and always will be Aboriginal Land.\n\nPhoto: ¬© Darleen Cooper - Stronger Together (2021)\n\n\n\n\n\nüìã SAMPLING LIMITS\nAll of the procedures and actions undertaken for the project follow the Animal Care and Ethics Committee (ACEC) and Work Health Safety (WHS) protocols from The University of Newcastle (UON), and are proceed under the Scientific Licence and the Review of Environmental Factors of NSW National Parks and Wildlife Services (NPWS).\nTherefore, the project is limited to certain amounts of bird sampling. Navigate the following documents to track these legal boundaries.\n\n\nView Sampling Records\n\n\n\n\n\n\n\nAccess Legal Supportive Documents\n\n\nACEC Protocol - A-2024-400 (Motus tags) - under review for renewal\nACEC Protocol - A-2021-107 (Blood)- under review for renewal\nWHS Protocol - SRA 77/2019 (Safety)\nNPWS Scientific Licence - SL102458\nNPWS Review of Environmental Factors - REF 20/756925 (Motus stations)\n\nDocument 1\nDocument 2"
  },
  {
    "objectID": "qmd/chapter_1/test22.html",
    "href": "qmd/chapter_1/test22.html",
    "title": "test22",
    "section": "",
    "text": "test22 lol\nzzzzzzzzzzzzzzzzzzzzzzzz",
    "crumbs": [
      "Test 2",
      "test22"
    ]
  },
  {
    "objectID": "qmd/reports/testf2.html",
    "href": "qmd/reports/testf2.html",
    "title": "testf2",
    "section": "",
    "text": "Papers‚Ä¶",
    "crumbs": [
      "Papers",
      "testf2"
    ]
  },
  {
    "objectID": "qmd/testend.html",
    "href": "qmd/testend.html",
    "title": "testend",
    "section": "",
    "text": "THE END"
  },
  {
    "objectID": "qmd/contact.html",
    "href": "qmd/contact.html",
    "title": "Movement Ecology - Shorebirds",
    "section": "",
    "text": "Maxime Marini\n\n\nPhD Student\n\n\nMovement and Spatial Ecology of Migratory Shorebirds\n\n\n\n    \n\n\nüìß Email\nPrimary: maxime.marini@uon.edu.au\nSecondary: marini.maxime@hotmail.fr\n\n\nüìû Phone\nAustralia: +61 (0) 493 399 107\nFrance: +33 (0) 6 47 83 40 42\n\n\n\n\nüèõÔ∏è The University of Newcastle\nBiology Building, Office BLG10\nUniversity Drive\nCallaghan NSW 2308\nAustralia\n\n\n    \n\nFeel free to reach out for collaborations, questions about my research, or general inquiries.\nA Mountaineer child from the Mediterranean coast. My lands are The South.  Alors, tranquille (let‚Äôs take it easy).  - Lou tems passo, passo lou ben -"
  },
  {
    "objectID": "qmd/contact.html#contact-information",
    "href": "qmd/contact.html#contact-information",
    "title": "Get in Touch",
    "section": "",
    "text": "üìß Email\nPrimary: maxime.marini@uon.edu.au\nSecondary: marini.maxime@hotmail.fr\n\n\nüìû Phone\nAustralia: +61 (0) 493 399 107\nFrance: +33 (0) 6 47 83 40 42"
  },
  {
    "objectID": "qmd/contact.html#office-location",
    "href": "qmd/contact.html#office-location",
    "title": "Get in Touch",
    "section": "",
    "text": "üèõÔ∏è The University of Newcastle\nBiology Building, Office BLG10\nUniversity Drive\nCallaghan NSW 2308\nAustralia\n\n\n\n\nFeel free to reach out for collaborations, questions about my research, or general inquiries. And remember I am from Marseille, so let‚Äôs take it easy lou tems passo, passo lou ben."
  },
  {
    "objectID": "qmd/Untitled.html",
    "href": "qmd/Untitled.html",
    "title": "Get in Touch",
    "section": "",
    "text": "Maxime Marini\n\n\nPhD Student\n\n\nMovement and Spatial Ecology of Migratory Shorebirds\n\n\n\n\n\n\n\nüìß Email\nPrimary: maxime.marini@uon.edu.au\nSecondary: marini.maxime@hotmail.fr\n\n\nüìû Phone\nAustralia: +61 (0) 493 399 107\nFrance: +33 (0) 6 47 83 40 42\n\n\n\n\n\n\n\nüèõÔ∏è The University of Newcastle\nBiology Building, Office BLG10\nUniversity Drive\nCallaghan NSW 2308\nAustralia\n\n\n\nFeel free to reach out for collaborations, questions about my research, or general inquiries."
  },
  {
    "objectID": "qmd/Untitled.html#contact-information",
    "href": "qmd/Untitled.html#contact-information",
    "title": "Get in Touch",
    "section": "",
    "text": "üìß Email\nPrimary: maxime.marini@uon.edu.au\nSecondary: marini.maxime@hotmail.fr\n\n\nüìû Phone\nAustralia: +61 (0) 493 399 107\nFrance: +33 (0) 6 47 83 40 42"
  },
  {
    "objectID": "qmd/Untitled.html#office-location",
    "href": "qmd/Untitled.html#office-location",
    "title": "Get in Touch",
    "section": "",
    "text": "üèõÔ∏è The University of Newcastle\nBiology Building, Office BLG10\nUniversity Drive\nCallaghan NSW 2308\nAustralia\n\n\n\nFeel free to reach out for collaborations, questions about my research, or general inquiries."
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html",
    "href": "qmd/chapter_1/ch1_3.html",
    "title": "Legend",
    "section": "",
    "text": "All the way through the analysis of Chapter 1 we will use the same English and Scientific names for species, the same abbreviations, the same names for the stations and the same color codes. Find here on this page clarifications.",
    "crumbs": [
      "Data",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html#color-code",
    "href": "qmd/chapter_1/ch1_3.html#color-code",
    "title": "Legend",
    "section": "Color code",
    "text": "Color code\n\nspecies_colors &lt;- c(\n  \"Bar-tailed Godwit\"      = \"#1B9E77\", \n  \"Far Eastern Curlew\"     = \"#D95F02\",  \n  \"Masked Lapwing\"         = \"#7570B3\", \n  \"Pacific Golden-Plover\"  = \"#E7298A\", \n  \"Pied Stilt\"             = \"#66A61E\", \n  \"Curlew Sandpiper\"       = \"#E6AB02\",\n  \"Red-necked Avocet\"      = \"#A9851D\",\n  \"Whimbrel\"               = \"darkblue\"\n  )\n\nspecies_init_colors &lt;- c(\n  \"BTG\" = \"#1B9E77\",  \n  \"FEC\" = \"#D95F02\", \n  \"ML\"  = \"#7570B3\", \n  \"PGP\" = \"#E7298A\", \n  \"PS\"  = \"#66A61E\", \n  \"CS\"  = \"#E6AB02\",  \n  \"RNA\" = \"#A9851D\",\n  \"WHI\" = \"darkblue\"  \n  )\n\n\n\n\n\nSpecies\n\n\nColor Code\n\n\nColor Swatch\n\n\n\n\n\n\nBar-tailed Godwit\n\n\n#1B9E77\n\n\n\n\n\n\n\n\n\nFar Eastern Curlew\n\n\n#D95F02\n\n\n\n\n\n\n\n\n\nMasked Lapwing\n\n\n#7570B3\n\n\n\n\n\n\n\n\n\nPacific Golden-Plover\n\n\n#E7298A\n\n\n\n\n\n\n\n\n\nPied Stilt\n\n\n#66A61E\n\n\n\n\n\n\n\n\n\nCurlew Sandpiper\n\n\n#E6AB02\n\n\n\n\n\n\n\n\n\nRed-necked Avocet\n\n\n#A9851D\n\n\n\n\n\n\n\n\n\nWhimbrel\n\n\ndarkblue",
    "crumbs": [
      "Data-set",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html#species-initials",
    "href": "qmd/chapter_1/ch1_3.html#species-initials",
    "title": "Legend",
    "section": "Species initials",
    "text": "Species initials\n\ninit_species &lt;- c(\n  \"BTG\" = \"Bar-tailed Godwit\",  \n  \"FEC\" = \"Far Eastern Curlew\", \n  \"ML\"  = \"Masked Lapwing\", \n  \"PGP\" = \"Pacific Golden-Plover\", \n  \"PS\"  = \"Pied Stilt\", \n  \"CS\"  = \"Curlew Sandpiper\",  \n  \"RNA\" = \"Red-necked Avocet\",\n  \"WHI\" = \"Whimbrel\"  \n  )",
    "crumbs": [
      "Data-set",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html#english-names",
    "href": "qmd/chapter_1/ch1_3.html#english-names",
    "title": "Legend",
    "section": "English names",
    "text": "English names\n\neng_names &lt;- c(\n  \"Bar-tailed Godwit\"     = \"Limosa lapponica\",\n  \"Far Eastern Curlew\"    = \"Numenius madagascariensis\",\n  \"Masked Lapwing\"        = \"Vanellus miles\",\n  \"Pacific Golden-Plover\" = \"Pluvialis fulva\",\n  \"Pied Stilt\"            = \"Himantopus leucocephalus\",\n  \"Curlew Sandpiper\"      = \"Calidris ferruginea\",\n  \"Red-necked Avocet\"     = \"Recurvirostra novaehollandiae\",\n  \"Whimbrel\"              = \"Numenius phaeopus\"\n  )",
    "crumbs": [
      "Data-set",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html#scientific-names",
    "href": "qmd/chapter_1/ch1_3.html#scientific-names",
    "title": "Legend",
    "section": "Scientific names",
    "text": "Scientific names\n\nsci_names &lt;- c(\n  \"Limosa lapponica\"              = \"Bar-tailed Godwit\",\n  \"Numenius madagascariensis\"     = \"Far Eastern Curlew\",\n  \"Vanellus miles\"                = \"Masked Lapwing\",\n  \"Pluvialis fulva\"               = \"Pacific Golden-Plover\",\n  \"Himantopus leucocephalus\"      = \"Pied Stilt\",\n  \"Calidris ferruginea\"           = \"Curlew Sandpiper\",\n  \"Recurvirostra novaehollandiae\" = \"Red-necked Avocet\",\n  \"Numenius phaeopus\"             = \"Whimbrel\"\n  )",
    "crumbs": [
      "Data-set",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html#shorebird-class",
    "href": "qmd/chapter_1/ch1_3.html#shorebird-class",
    "title": "Legend",
    "section": "Shorebird class",
    "text": "Shorebird class\n\nshorebird_class &lt;- c(\n  \"Bar-tailed Godwit\"     = \"migratory\",\n  \"Far Eastern Curlew\"    = \"migratory\",\n  \"Masked Lapwing\"        = \"resident\",\n  \"Pacific Golden-Plover\" = \"migratory\",\n  \"Pied Stilt\"            = \"resident\",\n  \"Curlew Sandpiper\"      = \"migratory\",\n  \"Red-necked Avocet\"     = \"resident\",\n  \"Whimbrel\"              = \"migratory\"\n  )",
    "crumbs": [
      "Data-set",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html#species-information-table",
    "href": "qmd/chapter_1/ch1_3.html#species-information-table",
    "title": "Legend",
    "section": "Species Information Table",
    "text": "Species Information Table\n\n\n\n\nInitial\n\n\nEnglish Name\n\n\nScientific Name\n\n\nClass\n\n\n\n\n\n\nBTG\n\n\nBar-tailed Godwit\n\n\nLimosa lapponica\n\n\nmigratory\n\n\n\n\nFEC\n\n\nFar Eastern Curlew\n\n\nNumenius madagascariensis\n\n\nmigratory\n\n\n\n\nML\n\n\nMasked Lapwing\n\n\nVanellus miles\n\n\nresident\n\n\n\n\nPGP\n\n\nPacific Golden-Plover\n\n\nPluvialis fulva\n\n\nmigratory\n\n\n\n\nPS\n\n\nPied Stilt\n\n\nHimantopus leucocephalus\n\n\nresident\n\n\n\n\nCS\n\n\nCurlew Sandpiper\n\n\nCalidris ferruginea\n\n\nmigratory\n\n\n\n\nRNA\n\n\nRed-necked Avocet\n\n\nRecurvirostra novaehollandiae\n\n\nresident\n\n\n\n\nEW\n\n\nEurasian Whimbrel\n\n\nNumenius phaeopus\n\n\nmigratory",
    "crumbs": [
      "Data",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_3.html#color-table",
    "href": "qmd/chapter_1/ch1_3.html#color-table",
    "title": "Legend",
    "section": "Color Table",
    "text": "Color Table\n\n\n\n\nSpecies\n\n\nColor Code\n\n\nColor Swatch\n\n\n\n\n\n\nBar-tailed Godwit\n\n\n#FF1493\n\n\n\n\n\n\n\n\n\nFar Eastern Curlew\n\n\n#FF8C00\n\n\n\n\n\n\n\n\n\nMasked Lapwing\n\n\n#32CD32\n\n\n\n\n\n\n\n\n\nPacific Golden-Plover\n\n\n#FFD700\n\n\n\n\n\n\n\n\n\nPied Stilt\n\n\n#00CED1\n\n\n\n\n\n\n\n\n\nCurlew Sandpiper\n\n\n#9370DB\n\n\n\n\n\n\n\n\n\nRed-necked Avocet\n\n\n#FF4500\n\n\n\n\n\n\n\n\n\nEurasian Whimbrel\n\n\n#1E90FF",
    "crumbs": [
      "Data",
      "Legend"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_5.html",
    "href": "qmd/chapter_1/ch1_5.html",
    "title": "Survey effort",
    "section": "",
    "text": "One key element we must address in our study is to define when and for how long each Motus station in our array was operational and thus able to detect VHF-tagged birds?\nStations may have operated for varying duration or during different time periods, making raw detection counts inherently biased and non-comparable. By quantifying the survey effort (total operational time) for each station, we can standardise the results across stations and allow statistically valid comparisons, ensuring that observed differences reflect true ecological patterns rather than artifacts of unequal sampling effort.\nTo exactly access when a station was operational and when it was not, we used the activity table coming from each station‚Äôs receiver. This table records any VHF activity at any time.\nNote: The following terms are used interchangeably: (1) receivers, SensorGnome, SG, serno, recv; (2) Raspberry Pi processor, Raspberry, deviceID.",
    "crumbs": [
      "Motus array",
      "Survey effort"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_2.html",
    "href": "qmd/chapter_1/ch1_2.html",
    "title": "Explore",
    "section": "",
    "text": "Since 2021, 53 birds belonging to 8 species have been captured, tagged and released.\nYou can find the complete record of the captures here.\nMotus allows you to openly explore the data on the server.\nHowever, it might be useful and more talkative to observe fine and direct movement events from the detections, and to breakdown the data into different groups depending particular point of views and wishes.\nBelow are displayed several tables to explore the data with every tagged bird uniquely identified with a `Band.ID`, also related to a MOTUS tag ID.",
    "crumbs": [
      "Data",
      "Explore"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_2.html#motus-table",
    "href": "qmd/chapter_1/ch1_2.html#motus-table",
    "title": "Explore",
    "section": "Motus table",
    "text": "Motus table\nFind below our data summarised across species and up to date (last detection 2026-01-03).\n\n\n\n\n\n\n\n\nTable 1. Overview of the shorebird species VHF tracked and monitored over the local automated MOTUS array located in the Hunter estuary.\n\n\nSpecies (En.)\nSpecies (Sci.)\nTagged\nDetected\nFirst day\nLast day\nTotal of days\nDetected days\nNb of sites/days\nTotal of sites\n\n\n\n\nBar-tailed Godwit\nLimosa lapponica\n14\n9\n01-02-2023\n14-11-2025\n120.9 ¬± 56\n8.4 ¬± 2.3\n1.6 ¬± 0.2\n2.3 ¬± 0.3\n\n\nCurlew Sandpiper\nCalidris ferruginea\n5\n5\n01-11-2025\n03-01-2026\n52.2 ¬± 7.9\n37.8 ¬± 4.3\n2.6 ¬± 0.2\n5.6 ¬± 0.2\n\n\nEurasian Whimbrel\nNumenius phaeopus\n2\n2\n01-11-2025\n01-12-2025\n31 ¬± 0\n9 ¬± 4\n1.4 ¬± 0.4\n2.5 ¬± 0.5\n\n\nPacific Golden-Plover\nPluvialis fulva\n18\n14\n04-03-2023\n04-12-2025\n53 ¬± 7.4\n38.1 ¬± 6.3\n1.5 ¬± 0.1\n5.2 ¬± 0.5\n\n\nFar Eastern Curlew\nNumenius madagascariensis\n1\n1\n18-03-2023\n23-04-2023\n37 ¬± 0\n29 ¬± 0\n1.6 ¬± 0\n2 ¬± 0\n\n\nPied Stilt\nHimantopus leucocephalus\n7\n6\n18-03-2023\n09-01-2025\n176.3 ¬± 103.5\n37 ¬± 14.7\n1.2 ¬± 0.1\n2.3 ¬± 0.6\n\n\nMasked Lapwing\nVanellus miles\n3\n1\n19-12-2021\n24-12-2024\n31 ¬± 0\n9 ¬± 0\n1 ¬± 0\n1 ¬± 0\n\n\nRed-necked Avocet\nRecurvirostra novaehollandiae\n5\n3\n25-10-2023\n22-11-2023\n21.7 ¬± 7.3\n21.7 ¬± 7.3\n2.4 ¬± 0.1\n5 ¬± 1\n\n\n\nLegend. Grouped by species, this table summarises the number of shorebird individuals tagged and tracked using MOTUS-VHF technology in the Hunter estuary near Newcastle (NSW, Australia). Birds have been surveyed from the day they have been tagged (First day) to their last detection (Last day), which gives the Total of days. However, detections occurred only on certain days (Detected days). We also looked at the number of sites each species might visit per day (Nb of sites/days) and the Total number of sites the species visited during its whole survey. Dates are in dd-mm-yyyy format. Mean and standard error values are provided(xÃÑ ¬± SE, with SE = SD/‚àön)\n\n\n\n\n\n\n\n\n \nAnd have a hint about the conditions of detection for each species, in the figure below - see further details in Station usage - hours &gt; Detection conditions.",
    "crumbs": [
      "Data",
      "Explore"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_2.html#captures",
    "href": "qmd/chapter_1/ch1_2.html#captures",
    "title": "Explore",
    "section": "Captures",
    "text": "Captures\n\nSUMMARY\nBirds are trapped with mist-nets and banded. Blood and Feathers are sampled. Then a Motus tag is glued on the back of individual. Monitored for a while afterwards so we can assure his welfare. It‚Äôs finally released once we confirmed the bird is behaving correctly.\nExplore the below tables to get informed on the the number of birds trapped, tagged, and monitored (detected, undetected, retagged or euthanised) since 2021.\n\n\n\n\n\n\n\n\nDETAILS\nWith above a summarised table of the captures and the monitoring, find below the list of the birds that has been trapped, tagged and detected, attached with the details of the capture procedures.",
    "crumbs": [
      "Data",
      "Explore"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_2.html#detected",
    "href": "qmd/chapter_1/ch1_2.html#detected",
    "title": "Explore",
    "section": "Detected",
    "text": "Detected\nThe table displays the five last detections (timeAus) for each birds.",
    "crumbs": [
      "Data",
      "Explore"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_2.html#undetected",
    "href": "qmd/chapter_1/ch1_2.html#undetected",
    "title": "Explore",
    "section": "Undetected",
    "text": "Undetected",
    "crumbs": [
      "Data",
      "Explore"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_2.html#retagged",
    "href": "qmd/chapter_1/ch1_2.html#retagged",
    "title": "Explore",
    "section": "Retagged",
    "text": "Retagged",
    "crumbs": [
      "Data",
      "Explore"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_2.html#euthanised",
    "href": "qmd/chapter_1/ch1_2.html#euthanised",
    "title": "Explore",
    "section": "Euthanised",
    "text": "Euthanised",
    "crumbs": [
      "Data",
      "Explore"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html",
    "href": "qmd/chapter_1/ch1_1.html",
    "title": "Load & Format",
    "section": "",
    "text": "Our Motus project aims to better understand movements and habitat preferences for shorebird populations within the local estuaries of the Hunter and Port Stephens. It has a focus on Far Eastern Curlew but additional species are also studied.\n\nMotus Project: Shorebird monitoring in central NSW estuaries\nProject ID: 294\nCitation: Griffin, A. Shorebird monitoring in central NSW estuaries (Project 294). 2019. Data accessed from Motus Wildlife Tracking System, Birds Canada. Available: https://motus.org/. Accessed: 2025-12-11\n\nRetrieve the data from Motus server (Accessing detections data - Motus 2025) and load them into your R environment so you can filter and format for further analysis.\nThis page describes:\n\nThe filtering procedures (date, individual ID, receiver names, false positive detections, etc.)\nThe implementation of key variables (tidal and circadian cycles, survey effort from receivers)",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#packages",
    "href": "qmd/chapter_1/ch1_1.html#packages",
    "title": "Load & Format",
    "section": "Packages",
    "text": "Packages\n\n# install.packages(\"motus\", \n#                  repos = c(birdscanada = 'https://birdscanada.r-universe.dev',\n#                            CRAN = 'https://cloud.r-project.org'))\nlibrary(motus)\nlibrary(dplyr)\nlibrary(here)\nlibrary(DBI)\nlibrary(RSQLite)\nlibrary(forcats) \nlibrary(lubridate)\nlibrary(bioRad) \nlibrary(purrr) \nlibrary(ggplot2) \n\nYou will need the motus package which you can download either online (Installing packages - Motus 2025) or from R.",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#download",
    "href": "qmd/chapter_1/ch1_1.html#download",
    "title": "Load & Format",
    "section": "Download",
    "text": "Download\n\nNote for authors:\n\nYou will have to separately run this R script that will follow the two next chunks before to continue. Indeed, `tagme( )` will prompt and require username and password that can‚Äôt be fed here.\nRun this script to update database only. The procedure is heavy and takes a while to complete (up to 45 min).\n\n\n\n# Global settings\nsetwd(dirname(rstudioapi::getSourceEditorContext()$path)) \nSys.setenv(TZ=\"UTC\") \nproj.num &lt;- 294  \nmotusLogout()\n\nFirst, set general settings as working directory, Time Zone and Motus project number.\nThen, make sure the environment is free from any connection to any other networked project to avoid undesired mistakes.\n\nsql.motus &lt;- tagme(projRecv = proj.num,\n                   new = FALSE, # TRUE overwrites existing file\n                   update = TRUE,\n                   dir = here(\"qmd\", \"chapter_1\",\"data\"))\n\nmetadata(sql.motus, proj.num)\n\nsql.motus &lt;- dbConnect(SQLite(), here::here(\"qmd\", \"chapter_1\", \"data\", \"project-294.motus\"))\n\ndf.alltags &lt;- tbl(sql.motus, \"alltags\") %&gt;%\n  dplyr::collect() %&gt;%\n  as.data.frame() %&gt;%\n    mutate(time = as_datetime(ts),\n         timeAus = as_datetime(ts, tz = \"Australia/Sydney\"),\n         dateAus = as_date(timeAus),\n         year = year(time), \n         doy = yday(time))\n\nRetrieve the data from Motus server to access them in a data-frame format.\nmotus::tagme()gets the data from the online Motus network, the ones part of your project (ie. ID = 294) only. Make sure you set your own directory. A file of type .sql is automatically created.\nIf you already have a .sql file, set new = FALSE and update = TRUE so you are updating your existing file instead of re-downloading the full thing, which can take a while.\nmotus::metadata() downloads the metadata from the online Motus network (receiver information and more).\nmotus::dbConnect() links your .sql to your environment. Avoid to use high memory as .sql is a lazy table and not yet hardly written on your hardware.\nmotus::tbl() extracts all the tags fat into your environment. Then formatted into a classic dataframe.\n\ntail(df.alltags %&gt;% \n       select(timeAus, speciesEN, motusTagID, tagModel, pulseLen, recvDeployName, recv))\n\n                    timeAus        speciesEN motusTagID    tagModel pulseLen\n2962723 2026-01-02 04:29:40 Curlew Sandpiper      99023 NTQB2-4-2-M      2.5\n2962724 2026-01-02 04:30:06 Curlew Sandpiper      99023 NTQB2-4-2-M      2.5\n2962725 2026-01-03 04:13:34 Curlew Sandpiper      99023 NTQB2-4-2-M      2.5\n2962726 2026-01-03 04:13:47 Curlew Sandpiper      99023 NTQB2-4-2-M      2.5\n2962727 2026-01-03 04:14:52 Curlew Sandpiper      99023 NTQB2-4-2-M      2.5\n2962728 2026-01-03 04:15:06 Curlew Sandpiper      99023 NTQB2-4-2-M      2.5\n               recvDeployName            recv\n2962723 Ramsar Road Floodgate SG-E3E4RPI4CED5\n2962724 Ramsar Road Floodgate SG-E3E4RPI4CED5\n2962725 Ramsar Road Floodgate SG-E3E4RPI4CED5\n2962726 Ramsar Road Floodgate SG-E3E4RPI4CED5\n2962727 Ramsar Road Floodgate SG-E3E4RPI4CED5\n2962728 Ramsar Road Floodgate SG-E3E4RPI4CED5\n\n\nAbove, a quick view about the last data uploaded to Motus server, giving you the latest detection taken into account for this workflow.",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#filter",
    "href": "qmd/chapter_1/ch1_1.html#filter",
    "title": "Load & Format",
    "section": "Filter",
    "text": "Filter\n\nTAGS\n\nWARNING: The values entered within the below filtering R code are depending your own context.\n\nHere are cleaned-out the data recorded from undesired tags and/or receivers depending our local context. So the following has been processed on the raw data.\n\n# Cleaning and correcting tags metadata\ndf.alltags &lt;- df.alltags %&gt;% \n   filter(\n    # test tags\n     motusTagID != c(\"43291\"),\n    # pending, unconfirmed or undeployed tags\n    !motusTagID %in% c(\"43288\", \"43291\", \"43297\", \"43299\",\n                       \"43307\", \"43424\", \"43425\", \"60470\", \n                       \"60579\", \"81123\", \"81136\", \"81137\"),\n    # used for test/validation before tagging bird (remove time before the tagging)\n    !(motusTagID == \"81134\" & time &lt; dmy(\"23-11-2024\")),\n    !(motusTagID == \"60575\" & time &lt; dmy(\"25-10-2023\")) ) %&gt;% \n    # NA species\n     mutate(speciesEN = case_when(\n       is.na(speciesEN) & motusTagID %in% c(\"60470\", \"81121\") ~ \"Red-necked Avocet\",\n       is.na(speciesEN) & motusTagID %in% c(\"81118\") ~ \"Red-necked Avocet\",\n       TRUE ~ speciesEN)) %&gt;%\n  \n  # motusTagID as factor\n  mutate(motusTagID = as.character(motusTagID))\n\n  \n# Cleaning and correcting receiver metadata\ndf.alltags &lt;- df.alltags %&gt;% \n  filter(\n    # NA\n     !is.na(recvDeployLat),\n    # site not any longer used\n      recvDeployName != c(\"Throsby Creek Test Site\"),\n    # test sensor gnome\n      recv != c(\"SG-C621RPI3E17F\",       \n                \"SG-62A5RPI36710\") ) %&gt;% \n    # Windeyers\n  mutate(recvDeployName = ifelse(is.na(recvDeployName) & recv == \"SG-D5BBRPI3E2F7\",\n                                 \"Windeyers\", \n                                 recvDeployName))\n\nHave been removed:\n\nTest tags\nTags recorded into the Motus project but undeployed;\nPeriod of time where tags were ON but not set on any bird;\nTest SensorGnome;\nSites not any longer used.\n\nHave been modified:\n\nTag‚Äôs specieEN information have been changed from NA to different values depending case to case;\nReceiver station‚Äôs name recvDeployName has been changed from NA to Windeyers starting from 02/15/2025.\n\nFalse positive:\nLet‚Äôs now visualise the quality of our data in term of False Positive and likely wrong detection because of a too low Run Length.\n\n# Checking 'motusFiltered in' tag data\nggplot(df.alltags %&gt;%\n         filter(motusFilter == 1),\n       aes(x = recvDeployName)) +\n  geom_bar(fill = \"steelblue\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(x = \"Motus Station\", y = \"Nb of motusFilter = 1 (good)\") \n\n\n\n\n\n\n\n# Checking 'motusFiltered out' tag data\nggplot(df.alltags %&gt;%\n         filter(motusFilter == 0),\n       aes(x = recvDeployName)) +\n  geom_bar(fill = \"orange\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(x = \"Motus Station\", y = \"Nb of motusFilter = 0 (filtered out)\")\n\n\n\n\n\n\n\n# Checking proportion of data quality for each station\nperc &lt;- ggplot(df.alltags %&gt;% \n                 filter(motusFilter %in% c(0, 1)),\n       aes(x = recvDeployName, fill = factor(motusFilter))) +\n  geom_bar(position = \"fill\") + \n  scale_fill_manual(values = c(\"0\" = \"orange\",\n                               \"1\" = \"steelblue\"),\n                    labels = c(\"0 (filtered out)\", \n                               \"1 (good)\"),\n                    name = \"motusFilter\") +\n  theme_minimal() +\n  labs(x = \"Motus Station\",\n       y = \"Proportion\") +\n  scale_y_continuous(labels = scales::percent) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n# ggpubr::ggexport(perc,\n#                  filename = here(\"figures\", \"motus_filter_perc.jpg\"),\n#                  width = 800, height = 1000)\n\nperc\n\n\n\n\n\n\n\n\nFind in the above table the distribution of the data depending their quality and for each station.\nBlue values are detections considered as True Positive from Motus and orange values as False Positive.\nIndeed, a Motus station might have an interfering noisy radio environment within its vicinity (power line, flight corridor, road proximity, etc.).\nBeing able to flag an abnormal amount of False Positive for one station might be useful at assuming the data are True Positive but considered False Positive because of too much radio noise around.\n\n# False positive\ndf.alltags &lt;- df.alltags %&gt;% \n  filter(motusFilter == 1, # 0 is invalid data\n         runLen &gt;= 3) # value might be further thought\n\nThe False Positive signals are filtered out (i.e.¬†noise coming from external device, or any kind of external radio activity happening within the area) thanks to the pre-made `motusFilter` and the `runLen`.\n\nMotus Filter threshold values is set at 1, based on Motus documentationand our data (see below).\nRun Length threshold value is set at 3 and defines the number of bursts recorded from one tag and received at once: too low amount of bursts are suspected to not be True Positive, therefore not reliable.\n\n\n# Ambiguous  \nclarify(sql.motus) \n\n [1] ambigID    numHits    id1        fullID1    id2        fullID2   \n [7] id3        fullID3    id4        fullID4    id5        fullID5   \n[13] id6        fullID6    motusTagID tsStart    tsEnd     \n&lt;0 rows&gt; (or 0-length row.names)\n\n\nmotus::clarify() checks whether the combination of two tag signals emitting at the mean time could generate the single detection of a third not-existing tag signal, which would also be a False Positive, but also hiding two True Positives. If the table generated by this code has rows resulting, please go to Motus documentation. A table is generated as an output and each rows correspond a case. A table with zero row means none of such a case occurred, so your data are clean.\n\n\nSENSORGNOME\nReceivers data and their meta-information must be filtered and formatted as well.\n\n# Get summary \ndf.recvDeps &lt;- tbl(sql.motus, \"recvDeps\") %&gt;%   \n  collect() %&gt;%   \n  as.data.frame() %&gt;%    \n  mutate(timeStart = as_datetime(tsStart),\n         timeStartAus = as_datetime(tsStart, tz = \"Australia/Sydney\"), \n         timeEnd = as_datetime(tsEnd),\n         timeEndAus = as_datetime(tsEnd, tz = \"Australia/Sydney\")) \n\nIndeed, some receivers might have been swap within the Motus array and along time, therefore the same SensorGnome ID might be used by multiple stations along time, leading to wrong results.\n\nIMPORTANT: Make sure you tracked the history of your receivers to avoid misled results.\n\nHere, we only need to rename the stations accurately and to remove those that are not used any longer.\n\n# Correct the recv names (example)\nstation_rename &lt;- list(\"Barry_Fullerton_cove\"  = \"Fullerton Entrance\", \n                       \"North Swann Pond\" = \"Swan Pond\" ,\n                       \"Example_three\" = \"Example 3\") \n\n\n# Apply corrections\ndf.recvDeps &lt;- df.recvDeps %&gt;% \n  mutate(name = recode(name, !!!station_rename)) %&gt;%\n  rename(recvDeployName = \"name\")\n\n# Filter not used stations as out of the local array \ndf.recvDeps &lt;- df.recvDeps %&gt;% \n  filter(!is.na(latitude),   \n         recvDeployName != c(\"Throsby Creek Test Site\"),    \n         serno != c(\"SG-C621RPI3E17F\",   # test station\n                    \"SG-62A5RPI36710\") ) # test station\n\n\n# Apply corrections\ndf.alltags &lt;- df.alltags %&gt;% \n  mutate(recvDeployName = recode(recvDeployName, !!!station_rename))",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#survey-time-frame",
    "href": "qmd/chapter_1/ch1_1.html#survey-time-frame",
    "title": "Load & Format",
    "section": "Survey time frame",
    "text": "Survey time frame\n\ndf.recvDeps &lt;- df.recvDeps %&gt;%   filter(timeStartAus &gt; \"2023-01-31 00:00:00 AEDT\")\n\nFinally, we need to set temporal aspect of the survey effort.\nDay one for our local Motus array to start listening any tag signals is set on the 31st January 2023 - one month before the first day a bird has been caught and tagged (information found into the SharePoint to access the file.).",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#import-band-id",
    "href": "qmd/chapter_1/ch1_1.html#import-band-id",
    "title": "Load & Format",
    "section": "Import band ID",
    "text": "Import band ID\nAs we might re-trap individuals and re-tag them with a new MOTUS tag, we can‚Äôt use the Motus tag ID as unique ID anymore and have to use Band ID which supposes to last on the same bird from banding date to individual‚Äôs death. Unfortunately, the Band ID is not imported by MOTUS network at the moment. So, we need to import it from our own record accessible on SharePoint here, download the .csv.\n\n# Load df with date at the beginning \nspreadsheet &lt;- read.csv(here::here( \"qmd\", \"chapter_1\", \"data\", \"spreadsheet\", paste0(Sys.Date(), \"-teams.sheet.csv\"))) %&gt;%   \n  \n  # Keep only the tagged ones \n  filter(Radio.tag. == \"Y\") %&gt;%      \n  \n  # Variable names\n  rename(DateAUS.Trap = \"Date\", \n         motusTagID = \"Motus.tag.ID\", \n         speciesEN = \"Species\") %&gt;%\n  \n  # Value names\n  mutate(speciesEN = case_when(\n    speciesEN == \"Eastern Curlew\" ~ \"Far Eastern Curlew\",\n    speciesEN == \"Black-winged Stilt\" ~ \"Pied Stilt\",\n    speciesEN == \"Pacific Golden Plover\" ~ \"Pacific Golden-Plover\",\n    speciesEN == \"Whimbrel\" ~ \"Eurasian Whimbrel\",\n    TRUE ~ speciesEN )) %&gt;% \n  \n  # Format\n  mutate(motusTagID = as.factor(motusTagID),\n         DateAUS.Trap = as.Date(DateAUS.Trap),\n         Band.ID = as.factor(Band.ID)) %&gt;%\n  select(Band.ID, motusTagID, speciesEN, DateAUS.Trap, everything())  \n\n# Join unique Band IDs for inconsistent motusTag (same bird re-tagged, etc) \ndf.alltags &lt;- left_join(df.alltags,\n                         spreadsheet %&gt;%\n                           filter(is.na(Euthanised.)) %&gt;%  \n                           select(motusTagID, DateAUS.Trap, Band.ID, Bander), \n                      by = \"motusTagID\")\n\nSo we merged our records with Band ID for each bird to the Motus data, linked with the Motus tag ID. Allowing unique individual IDs.",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#add-key-variables",
    "href": "qmd/chapter_1/ch1_1.html#add-key-variables",
    "title": "Load & Format",
    "section": "Add key variables",
    "text": "Add key variables\nIt is crucial for our further analysis to add the Tidal and Circadian cycles as variables so we can match each bird detection with a categorical value for a date, a tide (high/low) and a period of the day (night/day).\nTo do so, we must first fetch the tide data.\n\n# Read tide.csv\ntideData &lt;- read.csv(here(\"qmd\", \"chapter_1\", \"data\", \"tides\", \"TideDataNewcastle.csv\"))\n\n# Format date and datetime columns\ntideData &lt;- tideData %&gt;% mutate(\n  date = dmy(date, tz = \"Australia/Sydney\"),\n  tideDateTimeAus = dmy_hm(tideDateTimeAus, tz = \"Australia/Sydney\")\n)\n\n# Classify tides as diurnal or nocturnal\ntideData &lt;- tideData %&gt;% mutate(\n  sunriseNewc = sunrise(date, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE),\n  sunsetNewc = sunset(date, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE),\n  sunriseNewcTime = strftime(sunriseNewc, format = \"%H:%M:%S\", tz = \"Australia/Sydney\"),\n  sunsetNewcTime = strftime(sunsetNewc, format = \"%H:%M:%S\", tz = \"Australia/Sydney\")\n)\n\n# Define either diurnal or nocturnal \ntideData &lt;- tideData %&gt;% mutate(\n  day_night = case_when(\n    tideDateTimeAus &gt;= sunriseNewc & tideDateTimeAus &lt;= sunsetNewc ~ \"Diurnal\",\n    TRUE ~ \"Nocturnal\"\n  )\n)\n\n# Categorise each tide by tidal/diel period\ntideData &lt;- tideData %&gt;% mutate(  \n    tideCategory = case_when(\n      high_low == \"Low\" & day_night == \"Diurnal\" ~ \"Diurnal_Low\",\n      high_low == \"Low\" & day_night == \"Nocturnal\" ~ \"Nocturnal_Low\",\n      high_low == \"High\" & day_night == \"Diurnal\" ~ \"Diurnal_High\",\n      high_low == \"High\" & day_night == \"Nocturnal\" ~ \"Nocturnal_High\") %&gt;% \n      as_factor())\n\n# Add numeric ID to each category, allowing for unique tide bins\ntideData &lt;- tideData %&gt;%\n  group_by(tideCategory) %&gt;% \n  mutate(tideID = paste0(tideCategory, \"_\", row_number())) %&gt;% \n  ungroup()\n\nNote that tide data-set must be extracted from New South Wales government resources and formatted into a .csv file - made for you and directly accessible here.\nAll the Tide categories are set for a unique point in Newcastle, easing the complexity of small scale differences for the tide within the estuary.\nLet‚Äôs now add our key variables for each bird detection:\n\nSignal strength\nCircadian period\nTidal period\n\n\n# Load useful functions from Callum Gapes work\ntidalCurve &lt;- readRDS(here::here(\"qmd\", \"chapter_1\", \"data\", \"tides\", \"tidalCurve.rds\"))\ntidalCurveFunc &lt;- splinefun(tideData$tideDateTimeAus, tideData$tideHeight, method = \"natural\")\nget.tideIndex &lt;- function(time){ return(which.min(abs(tideData$tideDateTimeAus-time)))}\n\n# Add key variables\ndf.alltags &lt;- df.alltags  %&gt;%\n  \n  # Positive signal strength (min. = 0) for plotting\n  mutate(sigPositive = sig + abs(min(sig))) %&gt;% \n  \n  # Sunrise/set\n  sunRiseSet(lat = \"recvDeployLat\", \n             lon = \"recvDeployLon\", \n             ts = \"ts\") %&gt;% \n  mutate(sunriseNewc = sunrise(dateAus, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE),\n         sunsetNewc = sunset(dateAus, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE)) %&gt;%\n\n  # Tide\n  mutate(tideHeight = tidalCurveFunc(timeAus),\n         tideIndex = map_dbl(timeAus, get.tideIndex))\n\n  tide_values &lt;- tideData[df.alltags$tideIndex, \n                        c(\"tideDateTimeAus\",\n                          \"high_low\",\n                          \"day_night\",\n                          \"tideCategory\",\n                          \"tideID\",\n                          \"tideHeight\")]\n\n# Factorise the variables\ndf.alltags &lt;- df.alltags %&gt;%\n  mutate(tideDateTimeAus = tide_values$tideDateTimeAus,\n         tideHighLow = as_factor(tide_values$high_low),\n         tideDiel = as_factor(tide_values$day_night),\n         tideCategory = as_factor(tide_values$tideCategory),\n         tideCategoryHeight = tide_values$tideHeight,\n         tideID = as_factor(tide_values$tideID),\n         tideTimeDiff = abs(difftime(timeAus, tideDateTimeAus, units = \"hours\")))\n\ndf.alltags &lt;- df.alltags %&gt;% \n  mutate(Band.ID = as.factor(Band.ID))",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#save",
    "href": "qmd/chapter_1/ch1_1.html#save",
    "title": "Load & Format",
    "section": "Save",
    "text": "Save\n\nNote for authors:\nSome observations (n = 4) in the detections data retrieved from Motus server do hold NA values for speciesEN.\nAs long as we consider it is negligible, these observations are removed.\n\n\n\n              timeAus speciesEN Band.ID markerNumber motusTagID    tagModel\n1 2025-11-04 17:24:53      &lt;NA&gt;    &lt;NA&gt;         &lt;NA&gt;      98916 NTQB2-6-1-M\n2 2025-11-04 17:25:45      &lt;NA&gt;    &lt;NA&gt;         &lt;NA&gt;      98916 NTQB2-6-1-M\n3 2025-11-04 17:26:12      &lt;NA&gt;    &lt;NA&gt;         &lt;NA&gt;      98916 NTQB2-6-1-M\n4 2025-11-04 17:27:04      &lt;NA&gt;    &lt;NA&gt;         &lt;NA&gt;      98916 NTQB2-6-1-M\n  pulseLen recvDeployName            recv\n1      2.5   Curlew Point SG-61F1RPI3C8AB\n2      2.5   Curlew Point SG-61F1RPI3C8AB\n3      2.5   Curlew Point SG-61F1RPI3C8AB\n4      2.5   Curlew Point SG-61F1RPI3C8AB\n\n\n\n# Bird detection dqtq\nsaveRDS(df.alltags, here::here(\"qmd\", \"chapter_1\", \"data\", \"motus\", paste0(Sys.Date(), \"-data\", \".rds\" )))\n\n# Receiver information\nsaveRDS(df.recvDeps, here::here(\"qmd\", \"chapter_1\", \"data\", \"motus\", paste0(Sys.Date(), \"-recv-info\", \".rds\" )))\n\n# Spreadsheet tracking BandID\nsaveRDS(spreadsheet, here::here(\"qmd\", \"chapter_1\", \"data\", \"spreadsheet\", paste0(Sys.Date(), \"-spreadsheet\", \".rds\" )))\n\n# Tide tables\nsaveRDS(tideData, here(\"qmd\", \"chapter_1\", \"data\", \"tides\", \"tideData.rds\"))\n\nSave your formatted data, now ready for analysis!",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_4.html",
    "href": "qmd/chapter_1/ch1_4.html",
    "title": "Location & History",
    "section": "",
    "text": "Since 2021, our local automated Motus array is sitting both in the Hunter estuary and Port Stephens estuary, with respectively eight and three stations.\nThis page displays a dynamic map where you can explore for each station and its history.\nYou can also openly explore location and a few other aspects on Motus server.\nA Motus station is made of multiple components:\n\nAntenna (either directional or omni-directionnal), to detect any VHF signal\nSensorGnome Receiver, to identify and store VHF signal from a known or unknown tag\nSolar panel + battery (low cycle 12V), to provide electrical power\nMast, to provide supporting structure\n\nNote that you can build any station yourself by simply following the installation guide freely delivered by Motus.\n\n\n\n\n\n\n\n\nShinyApp will provide the navigation. On To-Do list and Has To be done‚Ä¶",
    "crumbs": [
      "Motus array",
      "Location & History"
    ]
  },
  {
    "objectID": "index.html#section",
    "href": "index.html#section",
    "title": "Spatial Ecology - Shorebirds",
    "section": "",
    "text": "Find below the links to access supportive documents to the Research Project:\n\nACEC Protocol - A-2024-400 (Motus tags) - under review for renewal\nACEC Protocol - A-2021-107 (Blood & Feathers)\nWHS Protocol - SRA 77/2019 (Safety)\nNPWS Scientific Licence - SL102458\nNPWS Review of Environmental Factors - REF 20/756925\n\nDocument 1\nDocument 2"
  },
  {
    "objectID": "qmd/reports/pub_3.html",
    "href": "qmd/reports/pub_3.html",
    "title": "Scientific",
    "section": "",
    "text": "Will arrive on due time‚Ä¶",
    "crumbs": [
      "Scientific"
    ]
  },
  {
    "objectID": "qmd/reports/pub_3.html#scientific-papers",
    "href": "qmd/reports/pub_3.html#scientific-papers",
    "title": "Scientific",
    "section": "",
    "text": "Will arrive on due time‚Ä¶",
    "crumbs": [
      "Scientific"
    ]
  },
  {
    "objectID": "qmd/reports/pub_3.html#conference",
    "href": "qmd/reports/pub_3.html#conference",
    "title": "Scientific",
    "section": "Conference",
    "text": "Conference\n\n2025_AOC_presentation\n2025_AOC_abstract\n2025_ESA_presentation\n2025_ESA_abstract\n2026_WBF_abstract",
    "crumbs": [
      "Scientific"
    ]
  },
  {
    "objectID": "qmd/reports/pub_1.html",
    "href": "qmd/reports/pub_1.html",
    "title": "Internal documents",
    "section": "",
    "text": "Basics_for_Motus_Array_&_Tags, 2025\nHandy protocol that describe how to connect to your SG receivers with a local Wi-Fi or GSM network, so you can check current time tag detections, but also download raw data from your receivers. How to activate/deactivate a Lotek nano-tags. Tips on tracker model decision related to ratio bird weight/tag weight so you remain under the 3% of individual body mass for equipment.\nMotus_tag_specs_and_species_list, 2025\nSee what Motus Lotek tag you can use depending the species of shorebird you aim to equip. Find also a dynamic table for pricing.\nTrapping_records\nKeep tracking the number of individuals trapped and against what protocols. Other details on the birds too (biometry and banding)",
    "crumbs": [
      "Internal documents"
    ]
  },
  {
    "objectID": "qmd/reports/pub_1.html#fieldwork-protocols",
    "href": "qmd/reports/pub_1.html#fieldwork-protocols",
    "title": "Internal documents",
    "section": "",
    "text": "Basics_for_Motus_Array_&_Tags, 2025\nHandy protocol that describe how to connect to your SG receivers with a local Wi-Fi or GSM network, so you can check current time tag detections, but also download raw data from your receivers. How to activate/deactivate a Lotek nano-tags. Tips on tracker model decision related to ratio bird weight/tag weight so you remain under the 3% of individual body mass for equipment.\nMotus_tag_specs_and_species_list, 2025\nSee what Motus Lotek tag you can use depending the species of shorebird you aim to equip. Find also a dynamic table for pricing.\nTrapping_records\nKeep tracking the number of individuals trapped and against what protocols. Other details on the birds too (biometry and banding)",
    "crumbs": [
      "Internal documents"
    ]
  },
  {
    "objectID": "qmd/reports/pub_2.html",
    "href": "qmd/reports/pub_2.html",
    "title": "Ethics & Grants",
    "section": "",
    "text": "2026_HBOC_report - to be done ‚Ä¶\n2026_OFF_report - to be done ‚Ä¶\n2026_CBOC_report - to be done ‚Ä¶",
    "crumbs": [
      "Ethics & Grants"
    ]
  },
  {
    "objectID": "qmd/reports/pub_2.html#grants-reports",
    "href": "qmd/reports/pub_2.html#grants-reports",
    "title": "Ethics & Grants",
    "section": "",
    "text": "2026_HBOC_report - to be done ‚Ä¶\n2026_OFF_report - to be done ‚Ä¶\n2026_CBOC_report - to be done ‚Ä¶",
    "crumbs": [
      "Ethics & Grants"
    ]
  },
  {
    "objectID": "qmd/reports/pub_2.html#ethics-reports",
    "href": "qmd/reports/pub_2.html#ethics-reports",
    "title": "Ethics & Grants",
    "section": "Ethics reports",
    "text": "Ethics reports\n\n2026_ARA-2024-400_progress_report - to be done ‚Ä¶",
    "crumbs": [
      "Ethics & Grants"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_5.html#activity-table",
    "href": "qmd/chapter_1/ch1_5.html#activity-table",
    "title": "Survey effort",
    "section": "Activity table",
    "text": "Activity table\n\nLoad your data in your R environment - see Load & Format &gt; Reproducibility\n\n\nlibrary(dplyr)\nlibrary(here)\nlibrary(forcats) \nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(tidyr)\nlibrary(purrr)\n\nLet‚Äôs call this famous activity table.\n\nrecv.act &lt;- tbl(sql.motus, \"activity\")  %&gt;% \n  collect() %&gt;% \n  as.data.frame() %&gt;%\n  rename(deviceID = \"motusDeviceID\") %&gt;%\n  # keep our deployed antennas only\n  filter(deviceID %in% unique(recv$deviceID)) %&gt;% \n  # Set the time properly - IMPORTANT\n  mutate(date = as_datetime(as.POSIXct(hourBin* 3600,\n                                       origin = \"1970-01-06\", \n                                       tz = \"UTC\")),\n         dateAus = as_datetime(as.POSIXct(hourBin* 3600, \n                                          origin = \"1970-01-06\", \n                                          tz = \"UTC\"), \n                               tz = \"Australia/Sydney\"))   \n\n\nhead(recv.act)\n\n   batchID deviceID ant hourBin numTags pulseCount numRuns numHits run2 run3\n1 21275568     3596   1  471533       1         20       1       9    0    0\n2 21275568     3596   1  471534       0         46       0      NA    0    0\n3 21275568     3596   1  471535       0         79       0      NA    0    0\n4 21275568     3596   1  471536       0          8       0      NA    0    0\n5 21275568     3596   1  471537       0         23       0      NA    0    0\n6 21275568     3596   1  471538       0          6       0      NA    0    0\n  run4 run5 run6 run7plus numGPSfix                date             dateAus\n1    0    0    0        1        NA 2023-10-22 05:00:00 2023-10-22 16:00:00\n2    0    0    0        0        NA 2023-10-22 06:00:00 2023-10-22 17:00:00\n3    0    0    0        0        NA 2023-10-22 07:00:00 2023-10-22 18:00:00\n4    0    0    0        0        NA 2023-10-22 08:00:00 2023-10-22 19:00:00\n5    0    0    0        0        NA 2023-10-22 09:00:00 2023-10-22 20:00:00\n6    0    0    0        0        NA 2023-10-22 10:00:00 2023-10-22 21:00:00\n\n\nHere above is displayed an overview of the activity table. This object is composed of multiple elements but four are keys:\n\npulseCount: Quantifies the number of radio pulses measured on each antenna over each hour period hourBin but does not necessary correspond to a known VHF tag detection. It can be any other VHF signal, even simple noise - documentation\nnumTags: Represents the total number of unique tags detected. This, given a context, as typically a specific site, or within a batch, or for a set of detections.\ndeviceID: Raspberry Pi processor ID. A small electronic part of the receiver that plays the role of an embarked computer.\nant: Port of antenna the activity has been recorded.\n\nHow the data are recorded in this table?\nTwo cases may occur:\n\nWhen a station is listening, the table has either values or NA for pulseCount or/and for numTags variables. For example:\n\nNo noise has been recorded but one or several tags have been recorded: pulseCount = 0 or is NA and numTags &gt; 1\nNo tag has been recorded but noise happened: pulseCount &gt; 0 and numTags = 0 or is NA\n\nWhen a station is not listening, there is no row at all in the table (no data recorded).\n\nKeep in mind we can miss the hours where no tag or noise are happening within the environment BUT the antenna is still operational and being ‚Äúlistening‚Äù. In such a case, let‚Äôs further assume than the antenna is not working or listening. Indeed, an environment with ‚Äúno noise‚Äù condition during more than an hour may be extremely rare and very unlikely.\n\ntable(is.na(recv.act$pulseCount), recv.act$numTags) \n\n       \n             0      1      2      3      4      5      6      7\n  FALSE 111245   5160    997    420    197     95     34     17\n  TRUE   12673    122     22      3      1      2      0      0",
    "crumbs": [
      "Motus array",
      "Survey effort"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_5.html#receiver-id",
    "href": "qmd/chapter_1/ch1_5.html#receiver-id",
    "title": "Survey effort",
    "section": "Receiver ID",
    "text": "Receiver ID\nOne issue with Motus data is the number of variables related to IDs (receivers, Raspberry Pi, sites, etc.) and the inconsistent use of names for the same variable across the different tables (i.e.¬†recv$serno = data_all$recv).\nPlus, some of our SensorGnome serno and/or Raspberry Pi processor deviceID have been swapped around stations to optimise the VHF survey.\nFor example, when two stations need receiver repairs, we fix the easiest one first and prioritise reinstalling it at the most important station regardless the receiver or Raspberry origin. This sometimes means taking a receiver or Raspberry from one station and moving it to another one, but because Motus attaches this Raspberry ID deviceID to a Motus station name recvDeployName, messy error may happen.\nWe must re-associate each deviceID with their corresponding recvDeployName and at the correct hourBin. We first create a unique ID that matches station‚Äôs name with Raspberry pi that we called SernoStation.\n\n# Sort the terminated serno (if terminated, ie. one box has been removed from one antenna site, and a date comes along recv$timeEndAus variable)\nrecv.act.term &lt;- recv.act %&gt;%\n  left_join(recv %&gt;% \n              filter(!is.na(timeEndAus)) %&gt;%\n              select(deviceID, serno, recvDeployName),\n            \"deviceID\") %&gt;%\n  filter(!is.na(recvDeployName)) %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno))\n\n# Sort the still currently running serno\nrecv.act.runn &lt;- recv.act %&gt;%\n  left_join(recv %&gt;% \n              filter(is.na(timeEndAus)) %&gt;%\n              select(deviceID, serno, recvDeployName),\n            \"deviceID\") %&gt;%\n  filter(!is.na(recvDeployName)) %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno))\n\n# Merging in one data-set to use Station's name further + pick-up the rounded hours\nrecv.act &lt;- bind_rows(recv.act.runn, recv.act.term) %&gt;%\n  mutate(hour_dt = floor_date(dateAus, \"hour\"))\n\n# Providing helpful variables\nrecv &lt;- recv %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno),\n         lisStart = timeStartAus,\n         lisEnd = if_else(\n           is.na(timeEndAus), # means the station is still running since the last data downloading\n           with_tz(Sys.time(), \"Australia/Sydney\"),\n           with_tz(as_datetime(timeEndAus, tz = \"UTC\"), \"Australia/Sydney\")) )\n\nWe get recv.act table with every rows of activity the variables lisStart and lisEnd that specifies the complete period of time the station recvDeployName has been deployed with what deviceID.\nWhen a station is still deployed, lisEnd = NA.",
    "crumbs": [
      "Motus array",
      "Survey effort"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_5.html#operational-periods",
    "href": "qmd/chapter_1/ch1_5.html#operational-periods",
    "title": "Survey effort",
    "section": "Operational periods",
    "text": "Operational periods\n\n# Generating hourly sequences per SernoStation from start to end dates of the deviceID at particular sites\nrecv_hours &lt;- recv %&gt;%\n  select(recvDeployName, deviceID, SernoStation, lisStart, lisEnd) %&gt;%\n  rowwise() %&gt;%\n  mutate(hour_dt = list(seq(from = floor_date(lisStart, unit = \"hour\"),\n                            to = floor_date(lisEnd, unit = \"hour\"),\n                            by = \"hour\")) ) %&gt;%\n  unnest(cols = c(hour_dt)) %&gt;%\n  ungroup()\n\n# Giving operational and not-operational hours by joining same sequences from recv.act tbl and adding operational = TRUE when existing values\nrecv_hours &lt;- recv_hours %&gt;%\n  left_join(recv.act %&gt;%\n              distinct(SernoStation, hour_dt) %&gt;%\n              mutate(operational = TRUE),\n            by = c(\"SernoStation\", \"hour_dt\")) %&gt;%\n  mutate(operational = if_else(is.na(operational), FALSE, TRUE))\n\n# Relaying on the Station name on its own only (consistent values through SernoStation var)\nrecv.act$Station &lt;- sub(\"_SG-.*\", \"\", recv.act$SernoStation)\nrecv$Station &lt;- sub(\"_SG-.*\", \"\", recv$SernoStation)\nrecv_hours$Station &lt;- sub(\"_SG-.*\", \"\", recv_hours$SernoStation)\n\nThis step runs for each row of each recv and creates one list composed of as many rows of as many hours it is contained within the period [lisStart - lisEnd].\nIf lisEnd is NA because the station is still running, the date of today is taken.\nThis prepares the recv_hours table where each row is one hour when one station SernoStation is potentially operational and listening.\nOperational hours: To get the operational hours for each stations, meaning ‚Äúwhen a station is actually listening‚Äù, we first gave an extra variable to the recv.act table when operational is always TRUE to records only the hours when the station is listening. These rows are the hours where one site is deployed and operational.\nNon-operational hours: And we join this to the recv table by the shared variable hour_dt, which then will generate NA for the cases recv_hours$hour_dt has no matching values with recv.act$hour_dt. These NA are the hours where one site is deployed, but not operational.\nFinally, for consistency, we make sure that we are using station‚Äôs name (Station) regardless the deviceID since this one might have been swapped around (see Receiver ID).",
    "crumbs": [
      "Motus array",
      "Survey effort"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_5.html#survey-effort",
    "href": "qmd/chapter_1/ch1_5.html#survey-effort",
    "title": "Survey effort",
    "section": "Survey effort",
    "text": "Survey effort\n\nSTATISTICS\n\nuptime_summary &lt;- recv_hours %&gt;%\n  group_by(Station) %&gt;%\n  summarise(\n    total_hours = n(),\n    operational_hours = sum(operational), \n    downtime_hours = total_hours - operational_hours, \n    uptime_pct = round(100 * operational_hours / total_hours), 2)  %&gt;% \n  mutate(cont_listening_eff = round(100 * operational_hours / sum(operational_hours), 1), \n         surv_time_cover = round(100 * operational_hours / total_hours, 1)) %&gt;%\n  arrange(desc(uptime_pct)) %&gt;%\n  select(-c(\"2\"))\n\n\n\n\n\n\n\n\n\nStation\ntotal_hours\noperational_hours\ndowntime_hours\nuptime_pct\ncont_listening_eff\nsurv_time_cover\n\n\n\n\nSwan Pond\n25302\n22211\n3091\n88\n19.7\n87.8\n\n\nCorrie Island\n20242\n15218\n5024\n75\n13.5\n75.2\n\n\nHexham Swamp\n21092\n15068\n6024\n71\n13.4\n71.4\n\n\nRamsar Road\n25135\n17261\n7874\n69\n15.3\n68.7\n\n\nFullerton entrance\n25063\n15300\n9763\n61\n13.6\n61.0\n\n\nMilhams Pond\n25254\n12428\n12826\n49\n11.0\n49.2\n\n\nCurlew Point\n21092\n9093\n11999\n43\n8.1\n43.1\n\n\nTomago\n20190\n5226\n14964\n26\n4.6\n25.9\n\n\nWindeyers\n10063\n262\n9801\n3\n0.2\n2.6\n\n\nDavies Point\n20212\n441\n19771\n2\n0.4\n2.2\n\n\nDudley Test Site\n3462\n0\n3462\n0\n0.0\n0.0\n\n\n\n\n\n\n\n\ntotal_hours: total of hours for the station being deployed into the field, regardless whether it is working/listening\noperational_hours: total of hours for the station being listening, regardless the deviceID\ndowntime_hours: total of hours for the station being NOT listening, regardless the deviceID\nuptime_pct: per station, percentage of being listening over its total_hours\ncont_listening_eff: per station, contribution (%) of hours being listening (operational_hour) over the total (sum) of listening period across all the stations\nsurv_time_cover: per station, temporal coverage (%) of hours being listening (operational_hour) over the period of time the array has been deployed (i.e.¬†from the first day the first deployed station has been listening to the last day the last deployed station has been listening)\n\n\n\nTHE ARRAY\n\n\n\nWarning: Removed 15 rows containing missing values or values outside the scale range\n(`geom_segment()`).\n\n\n\n\n\n\n\n\n\n\nEvery black dot represent an hour where the station has activity recorded meaning the station is operational, meaning recording radio noise or a specific tag.\n\n\n\n\n\n\n\n\n\n\n\nSolid black lines are when a MOTUS station is operational. To simplify, when a station is not operational less than 24 hours, this period is considered as a operational period. Every dot represent at least one detection of one bird within an hour of the operational period. Every MOTUS station has a contribution value at the survey effort (%), i.e: Curlew Point station contributed 8.1 % to the total operational period for every stations within our local MOTUS array.\n\n\nSTATIONS\n\nCurlew Point (8.1%)Fullerton entrance (13.6%)Hexham Swamp (13.4%)Milhams Pond (11%)Ramsar Road (15.3%)Swan Pond (19.7%)Tomago (4.6%)Windeyers (0.2%)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLegend: The band in grey represents the operational period for each MOTUS station, when the antenna is actually listening. When no grey, the station is ‚ÄúOFF‚Äù and not operational. Every dot is at least one detection for one tag. Every MOTUS station has a contribution value at the survey effort (%), i.e: Curlew Point station contributed 8.1 % at the total operational period for every stations within our local MOTUS array (operational survey effort).",
    "crumbs": [
      "Motus array",
      "Survey effort"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_1.html#reproducibility",
    "href": "qmd/chapter_1/ch1_1.html#reproducibility",
    "title": "Load & Format",
    "section": "Reproducibility",
    "text": "Reproducibility\n\nReady-to-Go!\nTo reproduce any of the analysis of this Research Project, simply click and download the data (a password might be required - maxime.marini@uon.edu.au).\nCitation: Griffin, A. Shorebird monitoring in central NSW estuaries (Project 294). 2019. Data accessed from Motus Wildlife Tracking System, Birds Canada. Available: https://motus.org/. Accessed: 2025-12-11\n\nOnce loaded in your R environment, the file will display five objects:\n\nsql.motus: raw motus file from which you can call multiple tables (see documentation)\ndata_all: contains all the raw detections for each Lotek nanotags\nrecv: contains all the details for each receiver of the Motus array\nspreadsheet: contains all the capture events details provided for each trapped individual\ntideData: tidal details for Newcaslte, NSW\n\n\nThe data are last updated on the 21 December 2025.",
    "crumbs": [
      "Data",
      "Load & Format"
    ]
  },
  {
    "objectID": "qmd/reports/pub_4.html",
    "href": "qmd/reports/pub_4.html",
    "title": "Academic",
    "section": "",
    "text": "Milestone 2\nPh.D guide, 2025\nLegacy of Milestone 2, this document further details the aims, objectives, methods, expectations, collaborations of my Ph.D project and unroll the potential Chapters one by one.",
    "crumbs": [
      "Academic"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_6.html",
    "href": "qmd/chapter_1/ch1_6.html",
    "title": "Estuary usage - days",
    "section": "",
    "text": "Birds remain within the same estuaries. Migratory ones during all summer and residents all year around. That‚Äôs a statement at species group level. But do the individuals remain within the same estuary or do they fly from one to another?\nTo address this question we‚Äôll quantify how many days a bird has been detected at least once on at least one Motus station in one estuary, and we‚Äôll put this number of days against the total number of day that same bird was detectable. The result will be expressed in percentage.",
    "crumbs": [
      "Analysis",
      "Estuary usage - days"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_6.html#variables",
    "href": "qmd/chapter_1/ch1_6.html#variables",
    "title": "Estuary usage - days",
    "section": "Variables",
    "text": "Variables\n\nLoad your data in your R environment - see Load & Format &gt; Reproducibility\n\n\nlibrary(dplyr)\nlibrary(here) \nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(tidyr)\n\nLet‚Äôs count days and detecting stations for each bird.\n\n# Get deployment duration for each tags (in days)\ntag_dep_duration &lt;- data_all %&gt;%\n  group_by(Band.ID) %&gt;%\n  summarise(start_date = min(DateAUS.Trap),\n            end_date = max(dateAus),\n            period_tag_dep_d = 1 + time_length(interval(start = start_date, end = end_date), unit = \"day\"), # +1 to include the trapping day\n            .groups = \"drop\") %&gt;%\n  select(Band.ID, period_tag_dep_d)\n\n# Get number days each tag has been detected at least once in any station\ntag_dep_nb_d &lt;- data_all %&gt;%\n  mutate(dateAus = as.Date(dateAus)) %&gt;%\n  group_by(Band.ID) %&gt;%\n  summarise(days_detect = n_distinct(dateAus), .groups = \"drop\")\n\n# Get number of days one tag has been recorded in &gt;1 station (for each tags)\nmultiple_site_detect &lt;- data_all %&gt;%\n  group_by(Band.ID, dateAus) %&gt;%\n  # Counts per day the number of station one tag has been recorded\n  summarise(distinct_sites = n_distinct(recvDeployName),\n            .groups = \"drop_last\") %&gt;%\n  # Tells if one day one tag has been recorded several sites\n  mutate(multiple_detect = distinct_sites &gt; 1) %&gt;%\n  group_by(Band.ID) %&gt;%\n  summarise(multiple_site_detect = sum(multiple_detect),\n            .groups = \"drop\")\n\nWe generate tag_dep_duration that counts the total of days period_tag_dep_d each bird Band.ID had a tag on and activated. We make tag_dep_nb_d that quantifies the number of days days_detect each bird have been detected at least once in the Motus array.\nSo, we can then compare the first value with the second, and obtain our metric of interest in percentage.\nAdditionally, we quantified in multiple_site_detect the number of days each bird has been detected in multiple stations.",
    "crumbs": [
      "Analysis",
      "Estuary usage - days"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_6.html#results",
    "href": "qmd/chapter_1/ch1_6.html#results",
    "title": "Estuary usage - days",
    "section": "Results",
    "text": "Results\n\nINDIVIDUALS\n\n# Get number of day each tag has been recorded /species and /station\ntag_detection_indiv &lt;- data_all %&gt;%\n  group_by(Band.ID, recvDeployName, speciesEN) %&gt;%\n  # to count sp*ID per recv\n  reframe(days_recorded = n_distinct(dateAus)) %&gt;%\n  # flip table to get one column per station\n  pivot_wider(names_from = recvDeployName, \n              values_from = days_recorded,\n              values_fill = 0) %&gt;% # = 0 if NA\n  left_join(multiple_site_detect, by = \"Band.ID\") %&gt;%\n  left_join(tag_dep_nb_d, by = \"Band.ID\") %&gt;%\n  left_join(tag_dep_duration, by = \"Band.ID\") %&gt;%\n  mutate(perc = round((days_detect / period_tag_dep_d) * 100, 1)) # nb of day one tag is recorded once / nb of day the tag is deployed\n\n\n\n\n\n\n\n\nThe above table presents daily detection for each bird and for each Motus station in the local array:\n\nmultiple_site_detect: number of days a bird has been detected in more than one station\ndays_detect: number of days a bird has been detected in at least one station\nperiod_tag_dep_d: total of days a bird was detectable with a tag on and activated\nperc: (days_detect / period_tag_dep_d) x 100\n\n\nVisualise below for each birds the number of days the individual has been detected at least once and in at least one Motus station in the array, against the total of days the bird had a tag on and activated (results in %).\n\n\n\n\n\n\n\n\n\n\n\n\nSPECIES\nBelow are the same results as above, but for each species. So the data has been grouped by species.\n\n\n\n\n\n\n\n\nspeciesEN\nCurlew Point\nFullerton entrance\nHexham Swamp\nMilhams Pond\nRamsar Road\nSwan Pond\nTomago\nWindeyers\nmultiple_site_detect\ndays_detect\nperiod_tag_dep_d\nperc\n\n\n\n\nBar-tailed Godwit\n46\n45\n0\n5\n0\n0\n22\n0\n43\n61\n1018\n6.0\n\n\nCurlew Sandpiper\n34\n17\n0\n6\n35\n34\n27\n0\n34\n53\n64\n82.8\n\n\nEurasian Whimbrel\n6\n12\n0\n0\n0\n0\n9\n0\n11\n15\n31\n48.4\n\n\nMasked Lapwing\n9\n0\n0\n0\n0\n0\n0\n0\n0\n9\n31\n29.0\n\n\nPacific Golden-Plover\n179\n77\n51\n77\n76\n96\n1\n9\n156\n240\n432\n55.6\n\n\nPied Stilt\n18\n105\n0\n2\n69\n61\n0\n0\n68\n159\n664\n23.9\n\n\nRed-necked Avocet\n24\n29\n3\n4\n0\n5\n21\n0\n29\n29\n29\n100.0\n\n\nFar Eastern Curlew\n0\n23\n0\n22\n0\n0\n0\n0\n16\n29\n37\n78.4\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(tag_detection_indiv %&gt;%\n         add_count(speciesEN) %&gt;%\n         mutate(species_label = paste0(speciesEN, \" (n = \", n, \")\")),\n       aes(x = reorder(species_label, -perc, FUN = median),\n           y = perc, fill = speciesEN)) +   \n  geom_boxplot(width = 0.8, alpha = 0.7, color = \"black\") +\n  scale_fill_manual(values = species_colors) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"none\") +\n  labs(x = \"Species (n = number of individuals)\",\n       y = \"Detection (%)\",\n       title = \"Species detectability across the MOTUS array (Boxplot)\")\n\n\n\n\n\n\n\n\n\ndetection_table &lt;- tag_detection_indiv %&gt;%\n  add_count(speciesEN) %&gt;%\n  mutate(Species = speciesEN) %&gt;%\n  group_by(Species, speciesEN) %&gt;%\n  summarise(\n    n_individuals = n(),\n    min = round(min(perc, na.rm = TRUE), 1),\n    q1 = round(quantile(perc, 0.25, na.rm = TRUE),1),\n    median = round(median(perc, na.rm = TRUE),1),\n    q3 = round(quantile(perc, 0.75, na.rm = TRUE),1),\n    max = round(max(perc, na.rm = TRUE),1),\n    mean = round(mean(perc, na.rm = TRUE),1),\n    sd = round(sd(perc, na.rm = TRUE),1),\n    .groups = 'drop'\n  ) %&gt;%\n  arrange(desc(median)) %&gt;%\n  select(-speciesEN)\n\nlibrary(gt)\ndetection_table  %&gt;%\n  gt() %&gt;%\n  opt_align_table_header(align = \"left\")  %&gt;%\n  tab_style(\n    style = cell_text(weight = \"bold\"),\n    locations = cells_column_labels() ) %&gt;%\n  tab_style(\n    style = cell_text(style = \"italic\"),\n    locations = cells_body(columns = c(Species))) \n\n\n\n\n\n\n\nSpecies\nn_individuals\nmin\nq1\nmedian\nq3\nmax\nmean\nsd\n\n\n\n\nRed-necked Avocet\n3\n100.0\n100.0\n100.0\n100.0\n100.0\n100.0\n0.0\n\n\nPacific Golden-Plover\n14\n13.6\n63.9\n79.0\n96.4\n100.0\n74.7\n25.4\n\n\nFar Eastern Curlew\n1\n78.4\n78.4\n78.4\n78.4\n78.4\n78.4\nNA\n\n\nCurlew Sandpiper\n5\n61.9\n68.8\n74.6\n77.1\n95.7\n75.6\n12.7\n\n\nPied Stilt\n6\n6.3\n16.0\n62.0\n96.0\n100.0\n56.4\n44.7\n\n\nEurasian Whimbrel\n2\n16.1\n22.6\n29.0\n35.4\n41.9\n29.0\n18.2\n\n\nMasked Lapwing\n1\n29.0\n29.0\n29.0\n29.0\n29.0\n29.0\nNA\n\n\nBar-tailed Godwit\n9\n0.8\n3.3\n20.0\n96.0\n100.0\n47.0\n48.0",
    "crumbs": [
      "Analysis",
      "Estuary usage - days"
    ]
  },
  {
    "objectID": "qmd/reports/pub_3.html#scientific-articles",
    "href": "qmd/reports/pub_3.html#scientific-articles",
    "title": "Scientific",
    "section": "",
    "text": "Will arrive on due time‚Ä¶",
    "crumbs": [
      "Scientific"
    ]
  },
  {
    "objectID": "qmd/reports/pub_3.html#conferences",
    "href": "qmd/reports/pub_3.html#conferences",
    "title": "Scientific",
    "section": "Conferences",
    "text": "Conferences\n\nChapter 1 - Motus\n\n2025_AOC_presentation\n2025_AOC_abstract\n2025_ESA_presentation\n2025_ESA_abstract\n2026_WBF_abstract",
    "crumbs": [
      "Scientific"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_7.html",
    "href": "qmd/chapter_1/ch1_7.html",
    "title": "Station usage - hours",
    "section": "",
    "text": "This page (finally!) describes and summarises where (Motus station) and when (tidal condition) the birds were.\nThe total amount of hours and the usage rate are assessed for each individual being detected within the Motus array and across the different tidal conditions such as:\n\nDiurnal High Tide\nDiurnal Low Tide\nNocturnal High Tide\nNocturnal Low Tide\n\nPlus, globally visualise the conditions of detection across the tagged population.\n\nIt is surprising to see how much we thought we knew and yet we ignore‚Ä¶\nlibrary(motus)\nlibrary(dplyr)\nlibrary(here)\nlibrary(forcats) \nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(tidyr)\nlibrary(purrr)\nlibrary(readr)\nlibrary(bioRad)\nlibrary(hms)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\nlibrary(gt)\nAnd load your activity table too!\nrecv.act &lt;- tbl(sql.motus, \"activity\")  %&gt;% \n  collect() %&gt;% \n  as.data.frame() %&gt;%\n  rename(deviceID = \"motusDeviceID\") %&gt;%\n  # keep our deployed antennas only\n  filter(deviceID %in% unique(recv$deviceID)) %&gt;% \n  # Set the time properly - IMPORTANT\n  mutate(date = as_datetime(as.POSIXct(hourBin* 3600,\n                                       origin = \"1970-01-06\", \n                                       tz = \"UTC\")),\n         dateAus = as_datetime(as.POSIXct(hourBin* 3600, \n                                          origin = \"1970-01-06\", \n                                          tz = \"UTC\"), \n                               tz = \"Australia/Sydney\"))",
    "crumbs": [
      "Analysis",
      "Station usage - hours"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_7.html#key-elements",
    "href": "qmd/chapter_1/ch1_7.html#key-elements",
    "title": "Station Usage rate",
    "section": "Key elements",
    "text": "Key elements\nThe aim is to compare the time available for each category (Diurnal High Tide, Nocturnal High Tide, Diurnal Low Tide and Nocturnal Low tide) against the time each shorebird species spent across each Motus stations.\nFirst, we need to determine the available time for each species group and for each Motus station.\nSecond, we need to calculate the time used for each bird in every species and for each MOTUS stations too.\nThe below procedure breaks down how we assessed:\n\nTide variable (the four categories)\nThe time available\nThe time used\n\n\n\n\n\nSchema 1: Definition of available and used periods across bird individuals and MOTUS stations\n\n\n\n\nTIDE VARIABLE\nBased on New South Wales Tide Tables we were able to extract and classify the total time for each of the four categories of tide that occurred within the Hunter estuary. Note that one data-set is provided at the estuary scale, therefore, we assume the tide is occurring at the same scale, time, frequency and amplitude across our MOTUS station.\nTide table informs for Low and High tide peaks. Half of the period between peak n and peak n-1 is taken, added to the period between peak n and peak n+1, then expanded in hours for further analysis. The tide associated to peak n defines its variable period (i.e.¬†red lines below is defined as high tide since peak n is a high tide peak).\n\n\n\n\nSchema 2: Definition of tide variables (high or low) for one period (red line)\n\n\n\ntide_data &lt;- tide_data %&gt;%\n  arrange(tideDateTimeAus) %&gt;%\n  mutate(prev_time = lag(tideDateTimeAus),\n         next_time = lead(tideDateTimeAus) ) %&gt;%\n  filter(!is.na(prev_time) & !is.na(next_time)) %&gt;%\n  mutate(duration_h = as.numeric(difftime(tideDateTimeAus, prev_time, units = \"hours\")/2 + \n                                    difftime(next_time, tideDateTimeAus, units = \"hours\")/2)) %&gt;%\n  \n  mutate(sunriseNewc = sunrise(tideDateTimeAus, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE),\n         sunsetNewc = sunset(tideDateTimeAus, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE),\n         sunriseNewcTime = strftime(sunriseNewc, format = \"%H:%M:%S\", tz = \"Australia/Sydney\"),\n         sunsetNewcTime = strftime(sunsetNewc, format = \"%H:%M:%S\", tz = \"Australia/Sydney\")) %&gt;%\n  \n  mutate(tideDiel = case_when(tideDateTimeAus &lt; sunriseNewc ~ \"Nocturnal\",\n                               tideDateTimeAus &gt; sunriseNewc & tideDateTimeAus &lt; sunsetNewc ~ \"Diurnal\",\n                               tideDateTimeAus &gt; sunsetNewc ~ \"Nocturnal\")) %&gt;%\n  \n  mutate(tideCategory = case_when(high_low == \"Low\" & tideDiel == \"Diurnal\" ~ \"Diurnal_Low\",\n                                  high_low == \"Low\" & tideDiel == \"Nocturnal\" ~ \"Nocturnal_Low\",\n                                  high_low == \"High\" & tideDiel == \"Diurnal\" ~ \"Diurnal_High\",\n                                  high_low == \"High\" & tideDiel == \"Nocturnal\" ~ \"Nocturnal_High\") %&gt;% \n           as_factor()) %&gt;%\n  rename(tideHighLow = high_low,\n         timeAus = tideDateTimeAus) %&gt;%\n  select(timeAus, tideCategory, tideHighLow, tideDiel, duration_h, sunriseNewc, sunsetNewc)\n\n\nTIME AVAILABLE\nNow tide data ready to be processed, we need to define for each individual (birds) and across each Motus stations, what was the amount of time available for the four tide categories.\nAvailable time for each Motus stations is accessed with activity table: each row is a dated record of noise or a tag detected - see Survey effort &gt; Activity table.\nWe need to extract the temporal coverage of each station, starting from deployment date to the last recorded activity, and expand this period in hours.\n\n# Sort the terminated serno (if terminated, ie. one box removed from one antenna site, a date comes along)\n# but still needed for accessing survey effort as the station is currently running with another serno \nrecv.act.term &lt;- recv.act %&gt;%\n  left_join(recv %&gt;% \n              filter(!is.na(timeEndAus)) %&gt;%\n              select(deviceID, serno, recvDeployName),\n            \"deviceID\") %&gt;%\n  filter(!is.na(recvDeployName)) %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno))\n\n# Sort the currently running serno\nrecv.act.runn &lt;- recv.act %&gt;%\n  left_join(recv %&gt;% \n              filter(is.na(timeEndAus)) %&gt;%\n              select(deviceID, serno, recvDeployName),\n            \"deviceID\") %&gt;%\n  filter(!is.na(recvDeployName)) %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno))\n\n# Merging in one data-set to use Station's name further + pick-up the rounded hours\nrecv.act &lt;- bind_rows(recv.act.runn, recv.act.term) %&gt;%\n  mutate(hour_dt = round_date(dateAus, \"hour\"))\n\n# Providing helpful variables\nrecv &lt;- recv %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno),\n         lisStart = timeStartAus,\n         lisEnd = if_else(\n           is.na(timeEndAus), # means the station is still running since the last data downloading\n           with_tz(Sys.time(), \"Australia/Sydney\"),\n           with_tz(as_datetime(timeEndAus, tz = \"UTC\"), \"Australia/Sydney\")) )\n\n# Generating hourly sequences per SernoStation from start to end dates of the deviceID at particular sites\nrecv_hours &lt;- recv %&gt;%\n  select(recvDeployName, deviceID, SernoStation, lisStart, lisEnd) %&gt;%\n  group_by(SernoStation) %&gt;%\n  rowwise() %&gt;%\n  mutate(hour_dt = list(seq(from = round_date(lisStart, unit = \"hour\"),\n                            to = round_date(lisEnd, unit = \"hour\"),\n                            by = \"hour\")) ) %&gt;%\n  unnest(cols = c(hour_dt)) %&gt;%\n  ungroup()\n\n# Simplify station variables (recvDeployName)\nrecv &lt;- recv %&gt;% \n  select(!recvDeployName) \nrecv$recvDeployName &lt;- sub(\"_SG-.*\", \"\", recv$SernoStation)\n\nrecv_hours &lt;- recv_hours %&gt;% \n  select(!recvDeployName) \nrecv_hours$recvDeployName &lt;- sub(\"_SG-.*\", \"\", recv_hours$SernoStation)\n\nWe now how the complete temporal coverage, expanded in hours, for each Motus station.\nHowever, due to some temporary failures or maintenance - see Survey effort &gt; Operational periods, the actual period a station was operational may be different than the complete temporal coverage. So, we must determine when a station was not operational and substract these off-hours to the complete temporal coverage.\n\n# Distinguish station from mixed recv + Giving operational variable (= TRUE when existing values from act table)\nrecv_hours &lt;- recv_hours %&gt;%\n  left_join(recv.act %&gt;%\n              distinct(recvDeployName, hour_dt) %&gt;%\n              mutate(operational = TRUE),\n            by = c(\"recvDeployName\", \"hour_dt\")) %&gt;%\n  mutate(operational = if_else(is.na(operational), FALSE, TRUE))\n\n# /!\\ Due to unknown error? Have to set this manually\nrecv_hours &lt;- recv_hours %&gt;%\n  mutate(operational = case_when(\n    recvDeployName == \"Fullerton Entrance\" & \n      hour_dt &gt; as.POSIXct(\"2023-04-02\") & \n      hour_dt &lt; as.POSIXct(\"2023-04-05\") ~ FALSE,\n    TRUE ~ operational))\n\n# Summary table                                                                     \noff_runs &lt;- recv_hours %&gt;% \n  arrange(recvDeployName, hour_dt) %&gt;%\n  group_by(recvDeployName) %&gt;%\n  mutate(off_run_id = consecutive_id(operational == FALSE)) %&gt;%\n  ungroup() %&gt;%\n  \n  filter(operational == FALSE) %&gt;%\n  \n  group_by(recvDeployName, off_run_id) %&gt;%\n  summarise(\n    start_off = min(hour_dt),\n    end_off = max(hour_dt),\n    tot_off_hours = n(),\n    .groups = \"drop\") %&gt;%\n  \n  filter(tot_off_hours &gt; 24)\n\n# Unique recvDeployNames from off_runs\nrecv_names &lt;- unique(recv_hours$recvDeployName)\n\n# Split tide_data into a named list with one element per recvDeployName\ntide_data_list &lt;- setNames(vector(\"list\", length(recv_names)), recv_names)\n\nfor(name in recv_names) {\n  # Get off intervals for this recvDeployName\n  intervals &lt;- off_runs %&gt;%\n    filter(recvDeployName == name) %&gt;%\n    select(start_off, end_off)\n  \n  # Get deployment start and end dates for this recvDeployName\n  deploy &lt;- recv_hours %&gt;%\n    filter(recvDeployName == name) %&gt;%\n    summarise(\n      lisStart = min(lisStart, na.rm = TRUE),\n      lisEnd = max(lisEnd, na.rm = TRUE)\n    )\n  \n  # Filter tide_data by deployment period\n  td &lt;- tide_data %&gt;%\n    filter(timeAus &gt;= deploy$lisStart & timeAus &lt;= deploy$lisEnd) %&gt;%\n    mutate(recvDeployName = name) \n  \n  if(nrow(intervals) &gt; 0) {\n    # Vectorized exclusion of off intervals\n    is_in_off &lt;- sapply(td$timeAus, function(t) {\n      any(t &gt;= intervals$start_off & t &lt;= intervals$end_off)\n    })\n    td &lt;- td[!is_in_off, ]\n  }\n  tide_data_list[[name]] &lt;- td\n}\n\ntide_data_df &lt;- bind_rows(tide_data_list) %&gt;%\n  mutate(hour_dt = round_date(timeAus, unit = \"hour\"))            # AVAILABLE TIME (tide categories covering same time as recv survey effort) \n\ntotal_recv_tide_data &lt;- tide_data_df %&gt;%\n  group_by(recvDeployName) %&gt;%\n  summarise(hour_seq = list(seq(min(hour_dt), max(hour_dt), by = \"hour\")), .groups = \"drop\") %&gt;%\n  unnest(hour_seq) %&gt;%\n  rename(hour_dt = hour_seq) %&gt;%\n  \n  left_join(tide_data_df, by = c(\"recvDeployName\", \"hour_dt\")) %&gt;%\n  arrange(recvDeployName, hour_dt) %&gt;%\n  group_by(recvDeployName) %&gt;%\n  mutate(across(everything(), ~ zoo::na.locf(.x, na.rm = FALSE), .names = \"{.col}\"))\n\nTemporal coverage for each station is now reduced to its ON periods, and ready to be processed.\nWe will now attribute at each bird its own available period, determined from the date a bird was tagged to its last record through the Motus array, and expanded to hours too.\n\n# Get the monitored period of each bird\nperiod_sp &lt;- data_all  %&gt;%\n  group_by(Band.ID) %&gt;%\n  reframe(DateAUS.Trap = first(DateAUS.Trap), \n          last_dateAus = max(dateAus),\n          speciesEN = speciesEN) %&gt;%\n  unique()\n\n# Expand one row per hours to each individual across its whole period (this is the available time)\nbird_hours &lt;- period_sp %&gt;%\n  group_by(Band.ID) %&gt;%\n  rowwise() %&gt;%\n  mutate(hour_dt = list(seq(from = as.POSIXct(ymd(DateAUS.Trap), tz = \"UTC\"),\n                            to = as.POSIXct(last_dateAus, tz = \"UTC\"),\n                            by = \"hour\"))) %&gt;%\n  unnest(cols = c(hour_dt)) %&gt;%\n  ungroup() \n\n# Add tide category for each available hours\nfind_closest_tide &lt;- function(target_time) {\n  # Calculate absolute time differences\n  time_diffs &lt;- as.numeric(tide_data$timeAus - target_time, units = \"mins\")\n  closest_idx &lt;- which.min(abs(time_diffs))\n  return(tide_data$tideCategory[closest_idx])\n}\nbird_hours &lt;- bird_hours %&gt;%\n  mutate(tideCategory = sapply(hour_dt, find_closest_tide))\n\n# Duplicate in as many list as many stations\nrecv_names &lt;- unique(recv_hours$recvDeployName)\nbird_data_list &lt;- setNames(vector(\"list\", length(recv_names)), recv_names)\n\nfor(name in recv_names) {\n  \n  valid_hours_recv &lt;- total_recv_tide_data %&gt;%\n    filter(recvDeployName == name) %&gt;%\n    pull(hour_dt)\n  \n  valid_hours_bird_recv &lt;- bird_hours %&gt;%\n    filter(hour_dt %in% valid_hours_recv)\n  \n  valid_hours_bird_recv$name &lt;- name\n  \n    \n  bird_data_list[[name]] &lt;- valid_hours_bird_recv\n} \n\n# AVAILABLE TIME (tide categories covering same time as recv survey effort AND birds monitoring period)\navailable_bird_recv_time &lt;- bind_rows(bird_data_list) %&gt;%\n  rename(recvDeployName = name) %&gt;%\n  group_by(Band.ID, speciesEN, recvDeployName, tideCategory)  %&gt;%\n  summarise(duration_h = n()) %&gt;%\n  mutate(tideDiel = if_else(grepl(\"Diurnal\", tideCategory), \"Diurnal\", \"Nocturnal\"),\n         tideHighLow = if_else(grepl(\"High\", tideCategory), \"High\", \"Low\")) \n :::: blockquote-blue The available time is now defined for each bird across each Motus station, taking into account the periods where stations where ON only. The available periods are expanded in hours. :::: \n\n\nTIME USED\nLet‚Äôs now determine the time used for each bird for each Motus station.\n\nThe time used is defined by multiplying the number of detections (meaning the number of rows) by the duration of a pulse (pulse interval). We assume that if an individual is detected by a receiver once, the individual was at least in the station coverage for the duration of the signal pulse. Duration differ depending tag models - see table below.\n\n\n\n\n\nTable X: Pulse Interval depending Lotek nanotag models\n\n\n\n# USED TIME (amount of time each bird spent during each category of tide and at each station)\n\n# Provide the burst interval value depending Lotek-nano tag model (scd)\ndata_bird &lt;- data_all %&gt;%\n  mutate(burst_inter = ifelse(tagModel == \"NTQB2-6-2\", dseconds(7.1), dseconds(13.1))) %&gt;%\n  select(timeAus, tideCategory, tideHighLow, tideDiel, sunriseNewc, sunsetNewc, \n         speciesEN, tagModel, recvDeployName, recv,speciesSci, Band.ID, burst_inter)\n\nused_bird_recv_time &lt;- data_bird %&gt;%\n  group_by(Band.ID, speciesEN, recvDeployName, tideCategory)  %&gt;%\n  summarise(duration_sec = sum(burst_inter)) %&gt;%\n  mutate(duration_h = round(duration_sec / 3600, 0),\n         tideDiel = if_else(grepl(\"Diurnal\", tideCategory), \"Diurnal\", \"Nocturnal\"),\n         tideHighLow = if_else(grepl(\"High\", tideCategory), \"High\", \"Low\")) %&gt;%\n  select(speciesEN, tideCategory, tideDiel, tideHighLow, duration_h, recvDeployName)",
    "crumbs": [
      "Analysis",
      "Station Usage rate"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_7.html#usage-rate",
    "href": "qmd/chapter_1/ch1_7.html#usage-rate",
    "title": "Station usage - hours",
    "section": "Usage rate",
    "text": "Usage rate\nNow that the used and available time have been determined for each individual and for each Motus station, we can relate these two elements together with the Usage rate (or rate of use).\n\n\\[\n\\text{Usage rate} = \\frac{\\text{Time used}}{\\text{Time available}} \\times 100 \\quad \\textit{across stations and species}\n\\]\n\nSome cases may happen where the time used was over the available. It may occur because multiplying each bird detection by its pulse interval duration overestimates the actual time used. For example, if a bird is detected twice with a 13-second pulse interval‚Äîonce at second 1 and again at second 14‚Äîthis results in 2 detections over 14 seconds. However, simply multiplying the detections by the pulse interval (2 √ó 13 seconds) incorrectly estimates the total time used as 26 seconds.\n\n\n\n\n\n\n\n\n\nBand.ID\nspeciesEN\nrecvDeployName\ntideCategory\navailable_t\ntideDiel\ntideHighLow\nused_t\nrate_use\n\n\n\n\n6318617\nPacific Golden-Plover\nCurlew Point\nDiurnal_Low\n347\nDiurnal\nLow\n351\n101.1527\n\n\n6318617\nPacific Golden-Plover\nCurlew Point\nDiurnal_High\n438\nDiurnal\nHigh\n461\n105.2511\n\n\n7176824\nBar-tailed Godwit\nCurlew Point\nNocturnal_High\n6\nNocturnal\nHigh\n8\n133.3333\n\n\n7176824\nBar-tailed Godwit\nTomago\nNocturnal_High\n6\nNocturnal\nHigh\n9\n150.0000\n\n\n\n\n\n\n\n\nNote: We removed n = 4 out of 1251 cases where the time used was over the available. Reminder: one case is made of the combination from an individual recorded at a Motus station for a specific tide condition. - See table above.\n\nThis limitation is currently ignored and not taken into account into the analysis regarding the general low ratio time used/time available.\nfigure_plot &lt;- left_join(available_bird_recv_time %&gt;% \n                           group_by(recvDeployName, Band.ID, speciesEN, tideCategory) %&gt;%\n                           rename(available_t = \"duration_h\"),\n                         used_bird_recv_time %&gt;%\n                           rename(used_t = \"duration_h\")) %&gt;%\n  mutate(rate_use = used_t*100/available_t) %&gt;%\n  mutate(rate_use = ifelse(rate_use &gt; 100, 100, rate_use)) %&gt;%\n  mutate(speciesType = factor(shorebird_class[speciesEN], \n                               levels = c(\"migratory\", \"resident\"))) %&gt;%\n  filter(!speciesEN %in% c(\"Far Eastern Curlew\", \"Masked Lapwing\"),\n         rate_use != 100) \n\nNote: We filtered out Masked Lapwing and Far Eastern Curlew from the analysis, since they have too few data.\n\nNow, everything is ready to format the data for plot and to visualise the results for Usage rate and Hourly usage across the Motus stations of our local array.\n# Track size sample\ncounts &lt;- used_bird_recv_time %&gt;%\n      group_by(speciesEN) %&gt;%\n      summarise(n = n_distinct(Band.ID)) %&gt;%\n      mutate(label = paste0(speciesEN, \" (n = \", n, \")\"))\nlabel_vec &lt;- setNames(counts$label, counts$speciesEN)\n# Tide and species groupings\ntide_levels &lt;- c(\"Low\", \"High\")\nspecies_types &lt;- unique(shorebird_class)  \n\n# Function to generate a plot with boxe displayed ONLY IF MORE THAN TWO VALUES &gt; 0\nmake_plot &lt;- function(tide_level, species_type, min_n_nonzero = 2) {\n  data_sub &lt;- figure_plot %&gt;%\n    filter(tideHighLow == tide_level) %&gt;%\n    mutate(species_class = shorebird_class[speciesEN]) %&gt;%\n    filter(species_class == species_type) %&gt;%\n    group_by(recvDeployName, tideDiel) %&gt;%\n    mutate(n_nonzero = sum(rate_use &gt; 0),\n           n_samples = n()) %&gt;%\n    ungroup()\n  \n  p &lt;- ggplot(data_sub,\n              aes(x    = factor(recvDeployName, levels = sort(unique(recvDeployName))),\n                  y    = rate_use,\n                  fill = tideDiel))\n  \n  # Only add boxplot if there are enough non-zero values in each group\n  data_for_boxplot &lt;- data_sub %&gt;%\n    filter(n_nonzero &gt;= min_n_nonzero)\n  \n  # Create fake data for missing tideDiel categories to maintain boxplot spacing\n  all_combinations &lt;- expand.grid(\n    recvDeployName = unique(data_sub$recvDeployName),\n    tideDiel = c(\"Diurnal\", \"Nocturnal\"),\n    speciesEN = unique(data_sub$speciesEN),\n    stringsAsFactors = FALSE\n  )\n  \n  existing_combinations &lt;- data_for_boxplot %&gt;%\n    distinct(recvDeployName, tideDiel, speciesEN)\n  \n  missing_combinations &lt;- all_combinations %&gt;%\n    anti_join(existing_combinations, by = c(\"recvDeployName\", \"tideDiel\", \"speciesEN\"))\n  \n  # Create transparent fake data\n  if (nrow(missing_combinations) &gt; 0) {\n    fake_data &lt;- missing_combinations %&gt;%\n      mutate(rate_use = 0,\n             n_nonzero = 0,\n             n_samples = 0,\n             is_fake = TRUE)\n    \n    data_for_boxplot &lt;- data_for_boxplot %&gt;%\n      mutate(is_fake = FALSE) %&gt;%\n      bind_rows(fake_data)\n  } else {\n    data_for_boxplot &lt;- data_for_boxplot %&gt;%\n      mutate(is_fake = FALSE)\n  }\n  \n  if (nrow(data_for_boxplot) &gt; 0) {\n    p &lt;- p + geom_boxplot(data = data_for_boxplot,\n                          aes(alpha = ifelse(is_fake, 0, 1)),\n                          outlier.shape = NA,\n                          varwidth = FALSE,\n                          position = position_dodge(width = 0.8, preserve = \"single\")) +\n      scale_alpha_identity()\n  }\n  \n  # Always show individual points for ALL data\n  p &lt;- p +\n    geom_point(aes(shape = tideDiel, fill = tideDiel),\n                                     position = position_dodge(width = 0.8),\n                                     alpha = 1, size = 1.5,\n                                     show.legend = FALSE) +\n         scale_shape_manual(values = c(\"Diurnal\" = 21, \"Nocturnal\" = 16)) +\n         scale_fill_manual(values = c(\"Diurnal\" = \"white\", \"Nocturnal\" = \"black\")) +\n    \n    facet_wrap(~ speciesEN,\n               labeller = labeller(speciesEN = label_vec)) +\n    labs(x     = \"Receiver Deployment\",\n         y     = \"Rate of Use (%)\",\n         fill  = \"Tide Diel\",\n         title = paste(ifelse(species_type == \"migratory\",\n                              \"Migratory species\", \"Resident species\"),\n                       \"during\", tide_level, \"tide\")) +\n    coord_cartesian(ylim = c(0, 50)) +\n    theme_minimal() +\n    scale_fill_manual(values = c(\"Diurnal\" = \"white\", \"Nocturnal\" = \"darkgrey\")) +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1))\n  \n  return(p)\n}\n\n# Generate and store all plots in a list\nplots_used_rate &lt;- cross2(tide_levels, species_types) %&gt;%\n  purrr::map(~ make_plot(.x[[1]], .x[[2]]))\n# General function to provide one table with stats values\nmake_summary_table &lt;- function(tide_level, species_type) {\n  data_sub &lt;- figure_plot %&gt;%\n    filter(tideHighLow == tide_level) %&gt;%\n    mutate(species_class = shorebird_class[speciesEN]) %&gt;%\n    filter(species_class == species_type)\n  \n  summary_table &lt;- data_sub %&gt;%\n    group_by(speciesEN, recvDeployName, tideDiel) %&gt;%\n    summarise(\n      n_individual = n(),\n      min = round(min(rate_use, na.rm = TRUE), 1),\n      q1 = round(quantile(rate_use, 0.25, na.rm = TRUE),1),\n      median = round(median(rate_use, na.rm = TRUE),1),\n      q3 = round(quantile(rate_use, 0.75, na.rm = TRUE),1),\n      max = round(max(rate_use, na.rm = TRUE),1),\n      mean = round(mean(rate_use, na.rm = TRUE),1),\n      sd = round(sd(rate_use, na.rm = TRUE),1),\n      .groups = 'drop'\n    ) %&gt;%\n    arrange(speciesEN, recvDeployName, tideDiel) %&gt;%\n    rename(Species = \"speciesEN\", Station = \"recvDeployName\", condition = \"tideDiel\")\n  \n  return(summary_table)\n}\n\n# One table per conditions\nhigh_migratory &lt;- make_summary_table(\"High\", \"migratory\")\nhigh_resident &lt;- make_summary_table(\"High\", \"resident\")\nlow_migratory &lt;- make_summary_table(\"Low\", \"migratory\")\nlow_resident &lt;- make_summary_table(\"Low\", \"resident\")\n\nRESIDENT BIRDS\n\nHigh TideLow Tide\n\n\n\n\n\n\n\n\n\nHigh Tide Resident birds\n\n\n\n\n\n\n\n\n\n\n\nStatistics - High Tide Resident Species\n\n\nSpecies\nStation\ncondition\nn_individual\nmin\nq1\nmedian\nq3\nmax\nmean\nsd\n\n\n\n\nPied Stilt\nCurlew Point\nDiurnal\n2\n6.1\n6.3\n6.5\n6.7\n6.9\n6.5\n0.6\n\n\nPied Stilt\nCurlew Point\nNocturnal\n1\n0.5\n0.5\n0.5\n0.5\n0.5\n0.5\nNA\n\n\nPied Stilt\nFullerton entrance\nDiurnal\n5\n1.5\n3.8\n35.7\n45.5\n52.1\n27.7\n23.6\n\n\nPied Stilt\nFullerton entrance\nNocturnal\n5\n0.3\n4.0\n4.1\n15.4\n24.6\n9.7\n10.1\n\n\nPied Stilt\nMilhams Pond\nDiurnal\n1\n2.6\n2.6\n2.6\n2.6\n2.6\n2.6\nNA\n\n\nPied Stilt\nMilhams Pond\nNocturnal\n1\n0.4\n0.4\n0.4\n0.4\n0.4\n0.4\nNA\n\n\nPied Stilt\nRamsar Road\nDiurnal\n2\n1.5\n1.9\n2.3\n2.7\n3.1\n2.3\n1.1\n\n\nPied Stilt\nRamsar Road\nNocturnal\n2\n0.0\n1.0\n2.0\n3.0\n4.0\n2.0\n2.9\n\n\nPied Stilt\nSwan Pond\nDiurnal\n2\n0.4\n1.0\n1.7\n2.3\n3.0\n1.7\n1.8\n\n\nPied Stilt\nSwan Pond\nNocturnal\n2\n0.3\n0.6\n1.0\n1.3\n1.7\n1.0\n1.0\n\n\nRed-necked Avocet\nCurlew Point\nDiurnal\n3\n4.8\n6.9\n9.1\n9.4\n9.6\n7.8\n2.7\n\n\nRed-necked Avocet\nCurlew Point\nNocturnal\n1\n1.6\n1.6\n1.6\n1.6\n1.6\n1.6\nNA\n\n\nRed-necked Avocet\nFullerton entrance\nDiurnal\n3\n16.8\n21.9\n26.9\n27.7\n28.6\n24.1\n6.4\n\n\nRed-necked Avocet\nFullerton entrance\nNocturnal\n3\n16.1\n19.3\n22.5\n24.0\n25.6\n21.4\n4.8\n\n\nRed-necked Avocet\nHexham Swamp\nNocturnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nRed-necked Avocet\nMilhams Pond\nNocturnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nRed-necked Avocet\nSwan Pond\nDiurnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nRed-necked Avocet\nSwan Pond\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nRed-necked Avocet\nTomago\nDiurnal\n3\n0.0\n0.5\n1.0\n2.4\n3.8\n1.6\n2.0\n\n\nRed-necked Avocet\nTomago\nNocturnal\n3\n19.4\n20.2\n20.9\n21.8\n22.6\n21.0\n1.6\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLow Tide Resident birds\n\n\n\n\n\n\n\n\n\n\n\nStatistics - Low Tide Resident Species\n\n\nSpecies\nStation\ncondition\nn_individual\nmin\nq1\nmedian\nq3\nmax\nmean\nsd\n\n\n\n\nPied Stilt\nCurlew Point\nDiurnal\n2\n0.0\n0.1\n0.2\n0.3\n0.4\n0.2\n0.3\n\n\nPied Stilt\nCurlew Point\nNocturnal\n2\n0.7\n0.8\n1.0\n1.1\n1.2\n1.0\n0.4\n\n\nPied Stilt\nFullerton entrance\nDiurnal\n5\n3.4\n3.8\n12.1\n25.0\n31.7\n15.2\n12.7\n\n\nPied Stilt\nFullerton entrance\nNocturnal\n5\n1.7\n3.3\n6.2\n15.4\n21.2\n9.6\n8.4\n\n\nPied Stilt\nMilhams Pond\nDiurnal\n1\n5.4\n5.4\n5.4\n5.4\n5.4\n5.4\nNA\n\n\nPied Stilt\nMilhams Pond\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nPied Stilt\nRamsar Road\nDiurnal\n2\n0.9\n1.7\n2.4\n3.2\n3.9\n2.4\n2.2\n\n\nPied Stilt\nRamsar Road\nNocturnal\n2\n0.0\n0.8\n1.7\n2.5\n3.3\n1.7\n2.3\n\n\nPied Stilt\nSwan Pond\nDiurnal\n2\n0.5\n0.9\n1.3\n1.8\n2.2\n1.3\n1.3\n\n\nPied Stilt\nSwan Pond\nNocturnal\n2\n0.2\n0.5\n0.8\n1.1\n1.5\n0.8\n0.9\n\n\nRed-necked Avocet\nCurlew Point\nDiurnal\n2\n0.0\n0.3\n0.5\n0.8\n1.1\n0.5\n0.8\n\n\nRed-necked Avocet\nCurlew Point\nNocturnal\n2\n0.0\n0.2\n0.3\n0.5\n0.7\n0.3\n0.5\n\n\nRed-necked Avocet\nFullerton entrance\nDiurnal\n3\n2.9\n7.9\n12.9\n14.5\n16.1\n10.6\n6.9\n\n\nRed-necked Avocet\nFullerton entrance\nNocturnal\n3\n0.0\n3.0\n6.0\n6.3\n6.7\n4.2\n3.7\n\n\nRed-necked Avocet\nHexham Swamp\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nRed-necked Avocet\nMilhams Pond\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nRed-necked Avocet\nSwan Pond\nNocturnal\n2\n0.0\n0.2\n0.3\n0.5\n0.7\n0.3\n0.5\n\n\nRed-necked Avocet\nTomago\nDiurnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nRed-necked Avocet\nTomago\nNocturnal\n3\n0.0\n2.3\n4.7\n6.0\n7.3\n4.0\n3.7\n\n\n\n\n\n\n\n\n\n\n\n\n\nMIGRATORY BIRDS\n\nHigh TideLow Tide\n\n\n\n\n\n\n\n\n\nHigh Tide Migratory birds\n\n\n\n\n\n\n\n\n\n\n\nStatistics - High Tide Migratory Species\n\n\nSpecies\nStation\ncondition\nn_individual\nmin\nq1\nmedian\nq3\nmax\nmean\nsd\n\n\n\n\nBar-tailed Godwit\nCurlew Point\nDiurnal\n5\n1.2\n33.7\n45.6\n78.8\n84.2\n48.7\n34.1\n\n\nBar-tailed Godwit\nCurlew Point\nNocturnal\n4\n0.4\n7.5\n10.1\n10.6\n11.3\n8.0\n5.1\n\n\nBar-tailed Godwit\nFullerton entrance\nDiurnal\n4\n0.0\n0.0\n0.0\n1.1\n4.5\n1.1\n2.3\n\n\nBar-tailed Godwit\nFullerton entrance\nNocturnal\n7\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nBar-tailed Godwit\nMilhams Pond\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nBar-tailed Godwit\nTomago\nDiurnal\n2\n5.1\n5.3\n5.6\n5.8\n6.1\n5.6\n0.7\n\n\nBar-tailed Godwit\nTomago\nNocturnal\n4\n0.0\n0.7\n49.5\n98.2\n98.3\n49.3\n56.4\n\n\nCurlew Sandpiper\nCurlew Point\nDiurnal\n5\n29.6\n30.0\n34.0\n36.0\n38.0\n33.5\n3.7\n\n\nCurlew Sandpiper\nCurlew Point\nNocturnal\n5\n5.8\n8.6\n8.6\n9.3\n9.9\n8.4\n1.6\n\n\nCurlew Sandpiper\nFullerton entrance\nDiurnal\n4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nFullerton entrance\nNocturnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nMilhams Pond\nDiurnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nCurlew Sandpiper\nRamsar Road\nDiurnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nRamsar Road\nNocturnal\n4\n0.0\n0.0\n0.0\n0.1\n0.4\n0.1\n0.2\n\n\nCurlew Sandpiper\nSwan Pond\nDiurnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nSwan Pond\nNocturnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nTomago\nDiurnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nTomago\nNocturnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nEurasian Whimbrel\nCurlew Point\nDiurnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nEurasian Whimbrel\nCurlew Point\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nEurasian Whimbrel\nFullerton entrance\nDiurnal\n2\n2.6\n3.0\n3.4\n3.8\n4.3\n3.4\n1.2\n\n\nEurasian Whimbrel\nFullerton entrance\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nEurasian Whimbrel\nTomago\nNocturnal\n1\n0.8\n0.8\n0.8\n0.8\n0.8\n0.8\nNA\n\n\nPacific Golden-Plover\nCurlew Point\nDiurnal\n12\n0.0\n4.5\n9.1\n37.7\n85.6\n25.5\n30.1\n\n\nPacific Golden-Plover\nCurlew Point\nNocturnal\n13\n0.0\n0.0\n2.8\n11.2\n22.3\n6.4\n7.4\n\n\nPacific Golden-Plover\nFullerton entrance\nDiurnal\n9\n0.0\n0.0\n0.0\n0.0\n0.4\n0.1\n0.2\n\n\nPacific Golden-Plover\nFullerton entrance\nNocturnal\n8\n0.0\n0.0\n0.0\n0.3\n0.9\n0.2\n0.4\n\n\nPacific Golden-Plover\nHexham Swamp\nDiurnal\n8\n0.0\n0.0\n2.0\n5.9\n11.2\n3.5\n4.2\n\n\nPacific Golden-Plover\nHexham Swamp\nNocturnal\n8\n0.0\n0.0\n0.9\n1.4\n3.1\n1.0\n1.1\n\n\nPacific Golden-Plover\nMilhams Pond\nDiurnal\n3\n0.0\n0.0\n0.0\n43.4\n86.9\n29.0\n50.2\n\n\nPacific Golden-Plover\nMilhams Pond\nNocturnal\n4\n0.0\n0.0\n0.0\n11.6\n46.4\n11.6\n23.2\n\n\nPacific Golden-Plover\nRamsar Road\nDiurnal\n6\n0.0\n0.0\n0.0\n0.0\n0.6\n0.1\n0.3\n\n\nPacific Golden-Plover\nRamsar Road\nNocturnal\n6\n0.0\n0.0\n0.0\n0.0\n1.3\n0.2\n0.5\n\n\nPacific Golden-Plover\nSwan Pond\nDiurnal\n6\n0.0\n0.0\n0.0\n0.0\n0.2\n0.0\n0.1\n\n\nPacific Golden-Plover\nSwan Pond\nNocturnal\n9\n0.0\n0.0\n0.0\n0.0\n0.6\n0.1\n0.2\n\n\nPacific Golden-Plover\nWindeyers\nDiurnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nPacific Golden-Plover\nWindeyers\nNocturnal\n3\n0.0\n0.0\n0.0\n0.6\n1.1\n0.4\n0.6\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLow Tide Migratory birds\n\n\n\n\n\n\n\n\n\n\n\nStatistics - Low Tide Migratory Species\n\n\nSpecies\nStation\ncondition\nn_individual\nmin\nq1\nmedian\nq3\nmax\nmean\nsd\n\n\n\n\nBar-tailed Godwit\nCurlew Point\nDiurnal\n5\n0.0\n0.2\n2.6\n5.0\n6.0\n2.7\n2.7\n\n\nBar-tailed Godwit\nCurlew Point\nNocturnal\n5\n0.0\n0.6\n1.3\n3.6\n25.0\n6.1\n10.7\n\n\nBar-tailed Godwit\nFullerton entrance\nDiurnal\n6\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nBar-tailed Godwit\nFullerton entrance\nNocturnal\n4\n0.0\n0.0\n0.4\n0.9\n1.3\n0.5\n0.6\n\n\nBar-tailed Godwit\nMilhams Pond\nDiurnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nBar-tailed Godwit\nMilhams Pond\nNocturnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nBar-tailed Godwit\nTomago\nDiurnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nBar-tailed Godwit\nTomago\nNocturnal\n4\n0.1\n6.3\n12.6\n19.9\n29.1\n13.6\n12.4\n\n\nCurlew Sandpiper\nCurlew Point\nDiurnal\n5\n29.0\n32.3\n32.3\n33.6\n34.0\n32.3\n2.0\n\n\nCurlew Sandpiper\nCurlew Point\nNocturnal\n5\n7.5\n8.6\n11.8\n13.2\n13.6\n11.0\n2.7\n\n\nCurlew Sandpiper\nFullerton entrance\nDiurnal\n4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nFullerton entrance\nNocturnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nMilhams Pond\nDiurnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nCurlew Sandpiper\nMilhams Pond\nNocturnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nRamsar Road\nDiurnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nRamsar Road\nNocturnal\n4\n0.0\n0.0\n0.1\n0.3\n0.3\n0.1\n0.2\n\n\nCurlew Sandpiper\nSwan Pond\nDiurnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nSwan Pond\nNocturnal\n5\n0.0\n0.0\n0.0\n0.0\n0.5\n0.1\n0.2\n\n\nCurlew Sandpiper\nTomago\nDiurnal\n5\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nCurlew Sandpiper\nTomago\nNocturnal\n5\n0.0\n0.0\n0.0\n0.0\n0.8\n0.2\n0.3\n\n\nEurasian Whimbrel\nCurlew Point\nNocturnal\n1\n1.1\n1.1\n1.1\n1.1\n1.1\n1.1\nNA\n\n\nEurasian Whimbrel\nFullerton entrance\nDiurnal\n2\n0.0\n0.1\n0.3\n0.4\n0.5\n0.3\n0.4\n\n\nEurasian Whimbrel\nFullerton entrance\nNocturnal\n2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nEurasian Whimbrel\nTomago\nDiurnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nEurasian Whimbrel\nTomago\nNocturnal\n1\n0.6\n0.6\n0.6\n0.6\n0.6\n0.6\nNA\n\n\nPacific Golden-Plover\nCurlew Point\nDiurnal\n12\n3.5\n8.9\n11.2\n30.1\n86.0\n25.4\n26.9\n\n\nPacific Golden-Plover\nCurlew Point\nNocturnal\n13\n0.0\n1.5\n4.3\n19.8\n38.9\n9.9\n12.5\n\n\nPacific Golden-Plover\nFullerton entrance\nDiurnal\n10\n0.0\n0.0\n0.0\n0.1\n0.5\n0.1\n0.2\n\n\nPacific Golden-Plover\nFullerton entrance\nNocturnal\n10\n0.0\n0.0\n0.0\n0.2\n1.0\n0.2\n0.4\n\n\nPacific Golden-Plover\nHexham Swamp\nDiurnal\n6\n0.0\n2.7\n4.2\n7.7\n11.5\n5.2\n4.2\n\n\nPacific Golden-Plover\nHexham Swamp\nNocturnal\n7\n0.0\n0.1\n0.9\n1.1\n1.9\n0.8\n0.7\n\n\nPacific Golden-Plover\nMilhams Pond\nDiurnal\n5\n0.0\n0.0\n0.0\n0.0\n80.4\n16.1\n36.0\n\n\nPacific Golden-Plover\nMilhams Pond\nNocturnal\n4\n0.0\n0.0\n1.2\n15.9\n56.4\n14.7\n27.8\n\n\nPacific Golden-Plover\nRamsar Road\nDiurnal\n6\n0.0\n0.0\n0.0\n0.0\n1.3\n0.2\n0.5\n\n\nPacific Golden-Plover\nRamsar Road\nNocturnal\n8\n0.0\n0.0\n0.0\n0.0\n2.7\n0.3\n0.9\n\n\nPacific Golden-Plover\nSwan Pond\nDiurnal\n6\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nPacific Golden-Plover\nSwan Pond\nNocturnal\n11\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nPacific Golden-Plover\nTomago\nDiurnal\n1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\nNA\n\n\nPacific Golden-Plover\nWindeyers\nDiurnal\n4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\nPacific Golden-Plover\nWindeyers\nNocturnal\n2\n0.0\n0.1\n0.3\n0.4\n0.5\n0.3\n0.4",
    "crumbs": [
      "Analysis",
      "Station usage - hours"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_7.html#hourly-usage",
    "href": "qmd/chapter_1/ch1_7.html#hourly-usage",
    "title": "Station usage - hours",
    "section": "Hourly usage",
    "text": "Hourly usage\n\nUSED vs AVAILABLE\n\nNocturnal High TideDiurnal Low TideDiurnal High TideNocturnal Low Tide\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLegend: Shorebird movement and spatial ecology vary across species and within the local MOTUS array in NSW. Each tab displays one tide category from the pairs ‚Äúhigh/low‚Äù and ‚Äúnocturnal/diurnal,‚Äù showing used time in hours (red boxes) for each species at different Motus stations. The grey boxes represent the total available time for the corresponding tide category and Motus station, across individuals. Note that available time might be relatively similar across stations as it is based on the general Newcastle tide table and is not station-specific.\n\n\nUSED\nSince the size sample at the current date is too low, it might be hard to read in details how much each bird or species spent time (hours) at each Motus station. So here below is displayed the used only for each stations.\n# Plot function used ONLY\nplot_used &lt;- function(tide_cat) {\n  data_subset &lt;- used_bird_recv_time %&gt;% filter(tideCategory == tide_cat)\n  \n  ggplot(data_subset, \n         aes(x = recvDeployName, y = duration_h, fill = speciesEN)) +\n    \n    geom_boxplot(position = position_dodge2(width = 0.9, preserve = \"single\")) +\n    scale_fill_manual(values = species_colors, name = \"Species\") +\n    \n    facet_wrap(~ speciesEN, scales = \"free_y\", \n               labeller = labeller(speciesEN = label_vec)) +\n    \n    theme_minimal(base_size = 12) +\n    theme(strip.text = element_text(face = \"bold\", size = 10),\n          axis.text.x = element_text(angle = 45, hjust = 1),\n          legend.position = \"none\",\n          plot.margin = margin(0, 0, 0, 0, \"in\"))  +\n    \n    coord_cartesian(ylim = c(0, NA)) + \n    labs(x = \"Motus stations\",\n         y = \"Detection duration (hours)\",\n         title = paste(\"Tide Category:\", tide_cat),\n         fill = \"Species\")\n  }\n\n# Get unique tideCategory levels\ntide_categories &lt;- combined_data %&gt;%\n  filter(!is.na(tideCategory)) %&gt;%\n  pull(tideCategory) %&gt;%\n  unique()\n\n# Generate a list of plots for all tide categories\nplots_list_used &lt;- purrr::map(tide_categories, plot_used)\n\nNocturnal Low TideNocturnal High TideDiurnal High TideDiurnal Low Tide\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLegend: Shorebird movement and spatial ecology vary across species and within the local Motus array in NSW. Each tab displays one tide category from the pairs ‚Äúhigh/low‚Äù and ‚Äúnocturnal/diurnal,‚Äù showing how many hours each species have been recorded at different Motus stations.",
    "crumbs": [
      "Analysis",
      "Station usage - hours"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_7.html#pre-requisite",
    "href": "qmd/chapter_1/ch1_7.html#pre-requisite",
    "title": "Station usage - hours",
    "section": "Pre-requisite",
    "text": "Pre-requisite\nThis analysis compares the time available for each tidal category (Diurnal High Tide, Nocturnal High Tide, Diurnal Low Tide and Nocturnal Low tide) with the time each shorebird species spent at Motus stations.\nFirst, we need to determine the available time for each species group and for each Motus station. Second, we need to calculate the time used for each bird in every species and for each MOTUS stations too.\nThe below procedure breaks down how we assessed:\n\nTide variable\nThe time available\nThe time used\n\n\n\n\n\nSchema: Definition of available and used periods across bird individuals and Motus stations\n\n\n\n\nTIDE VARIABLE\nBased on New South Wales Tide Tables we were able to extract and classify the total time for each of the four categories of tide that occurred within the Hunter estuary. Note that one data-set is provided at the estuary scale, therefore, we assume the tide is occurring at the same scale, time, frequency and amplitude across our MOTUS station.\nTide table informs for Low and High tide peaks. Half of the period between peak n and peak n-1 is taken, added to the period between peak n and peak n+1, then expanded in hours for further analysis. The tide associated to peak n defines its variable period (i.e.¬†red lines below is defined as high tide since peak n is a high tide peak).\n\n\n\n\nSchema: Definition of tide variables (high or low) for one period (red line)\n\n\n\ntide_data &lt;- tide_data %&gt;%\n  arrange(tideDateTimeAus) %&gt;%\n  mutate(prev_time = lag(tideDateTimeAus),\n         next_time = lead(tideDateTimeAus) ) %&gt;%\n  filter(!is.na(prev_time) & !is.na(next_time)) %&gt;%\n  mutate(duration_h = as.numeric(difftime(tideDateTimeAus, prev_time, units = \"hours\")/2 + \n                                    difftime(next_time, tideDateTimeAus, units = \"hours\")/2)) %&gt;%\n  \n  mutate(sunriseNewc = sunrise(tideDateTimeAus, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE),\n         sunsetNewc = sunset(tideDateTimeAus, 151.7833, -32.9167, elev = -0.268, tz = \"Australia/Sydney\", force_tz = TRUE),\n         sunriseNewcTime = strftime(sunriseNewc, format = \"%H:%M:%S\", tz = \"Australia/Sydney\"),\n         sunsetNewcTime = strftime(sunsetNewc, format = \"%H:%M:%S\", tz = \"Australia/Sydney\")) %&gt;%\n  \n  mutate(tideDiel = case_when(tideDateTimeAus &lt; sunriseNewc ~ \"Nocturnal\",\n                               tideDateTimeAus &gt; sunriseNewc & tideDateTimeAus &lt; sunsetNewc ~ \"Diurnal\",\n                               tideDateTimeAus &gt; sunsetNewc ~ \"Nocturnal\")) %&gt;%\n  \n  mutate(tideCategory = case_when(high_low == \"Low\" & tideDiel == \"Diurnal\" ~ \"Diurnal_Low\",\n                                  high_low == \"Low\" & tideDiel == \"Nocturnal\" ~ \"Nocturnal_Low\",\n                                  high_low == \"High\" & tideDiel == \"Diurnal\" ~ \"Diurnal_High\",\n                                  high_low == \"High\" & tideDiel == \"Nocturnal\" ~ \"Nocturnal_High\") %&gt;% \n           as_factor()) %&gt;%\n  rename(tideHighLow = high_low,\n         timeAus = tideDateTimeAus) %&gt;%\n  select(timeAus, tideCategory, tideHighLow, tideDiel, duration_h, sunriseNewc, sunsetNewc)\n\n\nTIME AVAILABLE\nNow tide data ready to be processed, we need to define for each individual (birds) and across each Motus stations, what was the amount of time available for the four tide categories.\nAvailable time for each Motus stations is accessed with activity table: each row is a dated record of noise or a tag detected - see Survey effort &gt; Activity table.\nWe need to extract the temporal coverage of each station, starting from deployment date to the last recorded activity, and expand this period in hours.\n\n# Sort the terminated serno (if terminated, ie. one box removed from one antenna site, a date comes along)\n# but still needed for accessing survey effort as the station is currently running with another serno \nrecv.act.term &lt;- recv.act %&gt;%\n  left_join(recv %&gt;% \n              filter(!is.na(timeEndAus)) %&gt;%\n              select(deviceID, serno, recvDeployName),\n            \"deviceID\") %&gt;%\n  filter(!is.na(recvDeployName)) %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno))\n\n# Sort the currently running serno\nrecv.act.runn &lt;- recv.act %&gt;%\n  left_join(recv %&gt;% \n              filter(is.na(timeEndAus)) %&gt;%\n              select(deviceID, serno, recvDeployName),\n            \"deviceID\") %&gt;%\n  filter(!is.na(recvDeployName)) %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno))\n\n# Merging in one data-set to use Station's name further + pick-up the rounded hours\nrecv.act &lt;- bind_rows(recv.act.runn, recv.act.term) %&gt;%\n  mutate(hour_dt = round_date(dateAus, \"hour\"))\n\n# Providing helpful variables\nrecv &lt;- recv %&gt;%\n  mutate(SernoStation = paste0(recvDeployName, \"_\", serno),\n         lisStart = timeStartAus,\n         lisEnd = if_else(\n           is.na(timeEndAus), # means the station is still running since the last data downloading\n           with_tz(Sys.time(), \"Australia/Sydney\"),\n           with_tz(as_datetime(timeEndAus, tz = \"UTC\"), \"Australia/Sydney\")) )\n\n# Generating hourly sequences per SernoStation from start to end dates of the deviceID at particular sites\nrecv_hours &lt;- recv %&gt;%\n  select(recvDeployName, deviceID, SernoStation, lisStart, lisEnd) %&gt;%\n  group_by(SernoStation) %&gt;%\n  rowwise() %&gt;%\n  mutate(hour_dt = list(seq(from = round_date(lisStart, unit = \"hour\"),\n                            to = round_date(lisEnd, unit = \"hour\"),\n                            by = \"hour\")) ) %&gt;%\n  unnest(cols = c(hour_dt)) %&gt;%\n  ungroup()\n\n# Simplify station variables (recvDeployName)\nrecv &lt;- recv %&gt;% \n  select(!recvDeployName) \nrecv$recvDeployName &lt;- sub(\"_SG-.*\", \"\", recv$SernoStation)\n\nrecv_hours &lt;- recv_hours %&gt;% \n  select(!recvDeployName) \nrecv_hours$recvDeployName &lt;- sub(\"_SG-.*\", \"\", recv_hours$SernoStation)\n\nWe now how the complete temporal coverage, expanded in hours, for each Motus station.\nHowever, due to some temporary failures or maintenance (see Survey effort &gt; Operational periods), the actual period a station was operational may be different than the complete temporal coverage. So, we must determine when a station was not operational and substract these off-hours to the complete temporal coverage.\n\n# Distinguish station from mixed recv + Giving operational variable (= TRUE when existing values from act table)\nrecv_hours &lt;- recv_hours %&gt;%\n  left_join(recv.act %&gt;%\n              distinct(recvDeployName, hour_dt) %&gt;%\n              mutate(operational = TRUE),\n            by = c(\"recvDeployName\", \"hour_dt\")) %&gt;%\n  mutate(operational = if_else(is.na(operational), FALSE, TRUE))\n\n# /!\\ Due to unknown error? Have to set this manually\nrecv_hours &lt;- recv_hours %&gt;%\n  mutate(operational = case_when(\n    recvDeployName == \"Fullerton Entrance\" & \n      hour_dt &gt; as.POSIXct(\"2023-04-02\") & \n      hour_dt &lt; as.POSIXct(\"2023-04-05\") ~ FALSE,\n    TRUE ~ operational))\n\n# Summary table                                                                     \noff_runs &lt;- recv_hours %&gt;% \n  arrange(recvDeployName, hour_dt) %&gt;%\n  group_by(recvDeployName) %&gt;%\n  mutate(off_run_id = consecutive_id(operational == FALSE)) %&gt;%\n  ungroup() %&gt;%\n  \n  filter(operational == FALSE) %&gt;%\n  \n  group_by(recvDeployName, off_run_id) %&gt;%\n  summarise(\n    start_off = min(hour_dt),\n    end_off = max(hour_dt),\n    tot_off_hours = n(),\n    .groups = \"drop\") %&gt;%\n  \n  filter(tot_off_hours &gt; 24)\n\n# Unique recvDeployNames from off_runs\nrecv_names &lt;- unique(recv_hours$recvDeployName)\n\n# Split tide_data into a named list with one element per recvDeployName\ntide_data_list &lt;- setNames(vector(\"list\", length(recv_names)), recv_names)\n\nfor(name in recv_names) {\n  # Get off intervals for this recvDeployName\n  intervals &lt;- off_runs %&gt;%\n    filter(recvDeployName == name) %&gt;%\n    select(start_off, end_off)\n  \n  # Get deployment start and end dates for this recvDeployName\n  deploy &lt;- recv_hours %&gt;%\n    filter(recvDeployName == name) %&gt;%\n    summarise(\n      lisStart = min(lisStart, na.rm = TRUE),\n      lisEnd = max(lisEnd, na.rm = TRUE)\n    )\n  \n  # Filter tide_data by deployment period\n  td &lt;- tide_data %&gt;%\n    filter(timeAus &gt;= deploy$lisStart & timeAus &lt;= deploy$lisEnd) %&gt;%\n    mutate(recvDeployName = name) \n  \n  if(nrow(intervals) &gt; 0) {\n    # Vectorized exclusion of off intervals\n    is_in_off &lt;- sapply(td$timeAus, function(t) {\n      any(t &gt;= intervals$start_off & t &lt;= intervals$end_off)\n    })\n    td &lt;- td[!is_in_off, ]\n  }\n  tide_data_list[[name]] &lt;- td\n}\n\ntide_data_df &lt;- bind_rows(tide_data_list) %&gt;%\n  mutate(hour_dt = round_date(timeAus, unit = \"hour\"))            # AVAILABLE TIME (tide categories covering same time as recv survey effort) \n\ntotal_recv_tide_data &lt;- tide_data_df %&gt;%\n  group_by(recvDeployName) %&gt;%\n  summarise(hour_seq = list(seq(min(hour_dt), max(hour_dt), by = \"hour\")), .groups = \"drop\") %&gt;%\n  unnest(hour_seq) %&gt;%\n  rename(hour_dt = hour_seq) %&gt;%\n  \n  left_join(tide_data_df, by = c(\"recvDeployName\", \"hour_dt\")) %&gt;%\n  arrange(recvDeployName, hour_dt) %&gt;%\n  group_by(recvDeployName) %&gt;%\n  mutate(across(everything(), ~ zoo::na.locf(.x, na.rm = FALSE), .names = \"{.col}\"))\n\nTemporal coverage for each station is now reduced to its operational periods, and ready to be processed.\nWe now assign each bird its own available time period, spanning from its tagging date to its last Motus detection, and expanded to hourly resolution too.\n\n# Get the monitored period of each bird\nperiod_sp &lt;- data_all  %&gt;%\n  group_by(Band.ID) %&gt;%\n  reframe(DateAUS.Trap = first(DateAUS.Trap), \n          last_dateAus = max(dateAus),\n          speciesEN = speciesEN) %&gt;%\n  unique()\n\n# Expand one row per hours to each individual across its whole period (this is the available time)\nbird_hours &lt;- period_sp %&gt;%\n  group_by(Band.ID) %&gt;%\n  rowwise() %&gt;%\n  mutate(hour_dt = list(seq(from = as.POSIXct(ymd(DateAUS.Trap), tz = \"UTC\"),\n                            to = as.POSIXct(last_dateAus, tz = \"UTC\"),\n                            by = \"hour\"))) %&gt;%\n  unnest(cols = c(hour_dt)) %&gt;%\n  ungroup() \n\n# Add tide category for each available hours\nfind_closest_tide &lt;- function(target_time) {\n  # Calculate absolute time differences\n  time_diffs &lt;- as.numeric(tide_data$timeAus - target_time, units = \"mins\")\n  closest_idx &lt;- which.min(abs(time_diffs))\n  return(tide_data$tideCategory[closest_idx])\n}\nbird_hours &lt;- bird_hours %&gt;%\n  mutate(tideCategory = sapply(hour_dt, find_closest_tide))\n\n# Duplicate in as many list as many stations\nrecv_names &lt;- unique(recv_hours$recvDeployName)\nbird_data_list &lt;- setNames(vector(\"list\", length(recv_names)), recv_names)\n\nfor(name in recv_names) {\n  \n  valid_hours_recv &lt;- total_recv_tide_data %&gt;%\n    filter(recvDeployName == name) %&gt;%\n    pull(hour_dt)\n  \n  valid_hours_bird_recv &lt;- bird_hours %&gt;%\n    filter(hour_dt %in% valid_hours_recv)\n  \n  valid_hours_bird_recv$name &lt;- name\n  \n    \n  bird_data_list[[name]] &lt;- valid_hours_bird_recv\n} \n\n# AVAILABLE TIME (tide categories covering same time as recv survey effort AND birds monitoring period)\navailable_bird_recv_time &lt;- bind_rows(bird_data_list) %&gt;%\n  rename(recvDeployName = name) %&gt;%\n  group_by(Band.ID, speciesEN, recvDeployName, tideCategory)  %&gt;%\n  summarise(duration_h = n()) %&gt;%\n  mutate(tideDiel = if_else(grepl(\"Diurnal\", tideCategory), \"Diurnal\", \"Nocturnal\"),\n         tideHighLow = if_else(grepl(\"High\", tideCategory), \"High\", \"Low\")) \n\nThe available time is now defined for each bird across each Motus station, taking into account the periods where stations where ON only. The available periods are expanded in hours.\n\n\n\nTIME USED\nLet‚Äôs now determine the time used for each bird for each Motus station.\n\nThe time used is defined by multiplying the number of detections (meaning the number of rows) by the duration of a pulse (pulse interval). We assume that if an individual is detected by a receiver once, the individual was at least in the station coverage for the duration of the signal pulse. Duration differ depending tag models - see table below.\n\n\n\n\n\nPulse Interval depending Lotek nanotag models\n\n\n\n# USED TIME (amount of time each bird spent during each category of tide and at each station)\n# Provide the burst interval value depending Lotek-nano tag model (scd)\ndata_bird &lt;- data_all %&gt;%\n  mutate(burst_inter = ifelse(tagModel == \"NTQB2-6-2\", dseconds(7.1), dseconds(13.1))) %&gt;%\n  select(timeAus, tideCategory, tideHighLow, tideDiel, sunriseNewc, sunsetNewc, \n         speciesEN, tagModel, recvDeployName, recv,speciesSci, Band.ID, burst_inter)\n\nused_bird_recv_time &lt;- data_bird %&gt;%\n  group_by(Band.ID, speciesEN, recvDeployName, tideCategory)  %&gt;%\n  summarise(duration_sec = sum(burst_inter)) %&gt;%\n  mutate(duration_h = round(duration_sec / 3600, 0),\n         tideDiel = if_else(grepl(\"Diurnal\", tideCategory), \"Diurnal\", \"Nocturnal\"),\n         tideHighLow = if_else(grepl(\"High\", tideCategory), \"High\", \"Low\")) %&gt;%\n  select(speciesEN, tideCategory, tideDiel, tideHighLow, duration_h, recvDeployName)",
    "crumbs": [
      "Analysis",
      "Station usage - hours"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_7.html#detection-conditions",
    "href": "qmd/chapter_1/ch1_7.html#detection-conditions",
    "title": "Station usage - hours",
    "section": "Detection conditions",
    "text": "Detection conditions\nVisualise here the difference between the total number of hours recorded across the four tidal conditions for each species and for the whole population of tagged shorebirds, ‚ÄúTotal used‚Äù. And see the difference with the ‚ÄúUsage rate‚Äù, which measures bird detections by the Motus array as a proportion of the total available detection time.\n\nPOPULATION\nUSAGE RATE\n\nLegend: Find the values of the Usage rate (or rate of use) from the whole tagged shorebirds population detected within the Motus array and for each tide category.\nTOTAL USED\n\nLegend: Find the total of hours (or total uses) the whole tagged shorebirds population has been recorded within the Motus array and for each tide category.\n\n\nSPECIES\nUSAGE RATE\n\nLegend: Find the values of the Usage rate (or rate of use) across each shorebirds species detected within the Motus array and for each tide category.\nTOTAL USED\n\nLegend: Find the total of hours (or total uses) each species has been recorded within the Motus array and for each tide category.",
    "crumbs": [
      "Analysis",
      "Station usage - hours"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_8.html",
    "href": "qmd/chapter_1/ch1_8.html",
    "title": "Signal strength",
    "section": "",
    "text": "This is preliminary analysis.\nSignal strength is a metric we get from a tag detection which is likely related to the distance of the tag from a Motus station at the time its detection - see documentation.\nUsing this metric, we could characterise behaviors such as foraging or roosting activity.\n\nForaging: If we assume that large signal strength variations reflect substantial movement within the Motus station‚Äôs coverage area, these variations could be associated with the research of food.\nRoosting: In contrast, small variations would suggest limited movement, potentially corresponding to the seek for rest.\n\n\n\n\n\nLoad your data in your R environment - see Load & Format &gt; Reproducibility\n\n\nlibrary(dplyr)\nlibrary(here)\nlibrary(forcats) \nlibrary(lubridate)\nlibrary(purrr) \nlibrary(lubridate)\nlibrary(ggplot2)\nlibrary(stringr)\n\n\n# Mean signal strength per individual, site and time categories (HD, HN, LD, LN)\ndata_all &lt;- data_all %&gt;%\n  group_by(Band.ID, tideCategory, recvDeployName) %&gt;%\n  mutate(sig_indiv_tideCat = mean(sigPositive)) %&gt;%\n  ungroup()  %&gt;%\n  mutate(speciesINIT = str_split(speciesEN, \" \") %&gt;%            \n           map_chr(~ str_c(str_sub(.x, 1, 1), collapse = \"\")) %&gt;%    \n           toupper(),\n         tideCat = str_split(tideCategory, \"_\") %&gt;%          \n           map_chr(~ str_c(str_sub(.x, 1, 1), collapse = \"\")) %&gt;%    \n           toupper())\n\nHere, we take the relative signal strength value sigPositive (a derivative of the raw values sig) to calculate the mean for each individual and per tide category.\nTherefore, we group the means per species and per site to observe how the signal strength varies. To that aim, we need to create a new variable: the average signal strength per individuals sig_indiv_tideCat.\nThen, we can create a list which plots the distribution of the average signal strength variation across species.\n# One plot per species for better understanding\nplots_list &lt;- data_all %&gt;%\n  \n  split(.$speciesEN) %&gt;%\n  \n  purrr::imap(~ {\n    \n    species_full &lt;- .y  # The split name (full species name)\n    \n    ggplot(.x, aes(x = tideCat, y = sig_indiv_tideCat, fill = speciesEN)) +\n      geom_boxplot() +\n      facet_wrap(~ recvDeployName) +\n      \n      scale_fill_manual(values = species_colors, guide = \"none\") +\n      theme_bw() +\n      labs(title = paste0(\"Signal Strength variance for \", species_full, \" over Motus stations\"),\n           x = \"Tide Category\",\n           y = \"Signal Strength variance (RSSI)\",\n           fill = \"Species\") \n    })\n\n# Rename list elements to initials using the inverse mapping\nnames(plots_list) &lt;- names(species_init_colors)[match(names(plots_list), names(species_colors))]\n\nBar-tailed GodwitCurlew SandpiperEurasian WhimbrelFar Eastern CurlewMasked LapwingPacific Golden-PloverPied StiltRed-necked Avocet\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLegend: The average value of the signal strength has been calculated for each individual, so you can see its distribution (boxes on vertical axis) depending the tide condition (horizontal axis) and for each species (tabs).",
    "crumbs": [
      "Analysis",
      "Signal strength"
    ]
  },
  {
    "objectID": "qmd/myphd.html",
    "href": "qmd/myphd.html",
    "title": "Movement Ecology - Shorebirds",
    "section": "",
    "text": "PROJECT & OBJECTIVES\nCurrently a PhD candidate at the Center for Conservation Science, University of Newcastle, I focus on movement and spatial ecology from resident shorebirds and migratory species on their non-breeding ground, in Australia within the Hunter and Port Stephen estuaries. Shorebirds have complex behavioural and ecological needs which remain poorly understood at the level needed to inform regional land management decisions and ground-level protection in Australia.\nThis Research Project (PhD) intends to understand how local shorebirds use habitats for roosting and foraging, as it is crucial to inform stakeholders and land managers for effective conservation of both resident and migratory species.\n\n\nChapter 1: Where the different species of shorebirds forage and roost at night and where do they feed during the day?\nRecent Motus telemetry technology revealed individuals use distinct estuary areas following tidal and circadian cycles, yet detection gaps remain. Continuing and combining VHF and GPS methods will improve sample size and clarify the land-use from shorebirds population.\n\n\nChapter 2: Do shorebird species within local estuaries have segregated or overlapping foraging niches?\nStable isotope analysis (C/N) revealed foraging niche overlap between two threatened migratory species, as first results. However, C4 plant might be undistinguished through this method. Adding sulfur Œ¥34S improves this distinction and traces marine versus terrestrial and benthic versus pelagic sources. Clarifying what vegetation provisions foraging grounds will inform restoration priorities, particularly if invertebrates are included to complete the trophic pathway for shorebirds.\n\n\nChapter 3: How the inter-tidal flats evolved along time over Australia and is this evolution threatening migratory shorebirds population?\nMigratory shorebirds depend on inter-tidal flats for foraging. Digital Earth Australia Inter-tidal data (2016-2026) combined with Birdlife Australia datasets enables continental-scale analysis linking habitat evolution to population dynamics, informing coastal management and conservation under sea level rise.\n\n\nChapter 4: How native resident shorebirds are exposed to predation risk from cats and foxes at high tide roosts and foraging ground: is there a spatio-temporal overlap in respective home ranges utilisation?\nInvasive feral cats and European red foxes threaten Hunter estuary shorebirds. GPS tracking offers an efficient method to assess individual trajectories, home ranges, and spatial utilisation distribution for both predators and preys. Analysing spatio-temporal overlaps relative to tidal cycles, land-cover, and inter-tidal exposure can quantify predation risk and identify potential refuges for shorebirds.\n\n\nChapter 5 (extras): Additional Research Questions\nHow red foxes move and use their habitat across and within the local estuaries? Where and when resident shorebirds go inland? What variables drive resident shorebirds habitat selection? What is the preferred diet from migratory shorebirds across the local estuaries, and does a shift exist during overwintering period? Many questions remains and might potentially make the fifth chapter.\n\n\nFOUNDERS & COLLABORATORS\n\nThe PhD program is a generously donor-funded scholarship from Ms Margaret Flynn.\nThe Research Project is funded by many institutions that may also collaborate with us as the Hunter Local Land Services, Hunter Bird Observers Club, Department of Planning and Environment, and National Parks and Wildlife.\n\n\n    \n\n\n\nJUSTE UN MOT ‚Ä¶\nI am from France and a curious man, interested on movement and spatial ecology of wildlife and population demographics.\nMy attention is caught by animal interactions, behaviours, choices, and I hope to participate at generating useful datasets, easy to read and implement, so it can inform conservation action while considering socio-economic and ecological priorities."
  },
  {
    "objectID": "qmd/myphd.html#founders-collaborators",
    "href": "qmd/myphd.html#founders-collaborators",
    "title": "Movement Ecology - Shorebirds",
    "section": "Founders & Collaborators",
    "text": "Founders & Collaborators\n\nThe PhD program is a generously donor-funded scholarship from Ms Margaret Flynn.\nThe Research Project is funded by many institutions that may also collaborate with us as the Hunter Local Land Services, Hunter Bird Observers Club, Department of Planning and Environment, and National Parks and Wildlife."
  },
  {
    "objectID": "qmd/myphd.html#candidate",
    "href": "qmd/myphd.html#candidate",
    "title": "Movement Ecology - Shorebirds",
    "section": "Candidate",
    "text": "Candidate\nI am an ecologist focused on movement and spatial ecology of wildlife and population demographics. I completed a Master‚Äôs degree in ecological research at the University of Savoie Mont-Blanc, with field experience in alpine and arctic ecosystems.\nMy interests center on animal interactions, movement patterns, and demographic processes, with the aim of generating datasets that can inform conservation action while considering socioeconomic and ecological priorities."
  },
  {
    "objectID": "qmd/reports/pub_5.html",
    "href": "qmd/reports/pub_5.html",
    "title": "Awards",
    "section": "",
    "text": "2025 Research Grant - Oatley Flora & Fauna Conservation Society - (AUD 2000)\n2025 Research Grant - Memorial Fund - Cumberland Bird Observers Club - (AUD 3000)\n2025 Research Grant - Wilma Barden Memorial - Hunter Bird Observers Club - (AUD 3000)\n2025 Student Travel Grant -Ecological Society of Australia - (AUD 1000)",
    "crumbs": [
      "Awards"
    ]
  },
  {
    "objectID": "qmd/reports/pub_5.html#grants",
    "href": "qmd/reports/pub_5.html#grants",
    "title": "Awards",
    "section": "",
    "text": "2025 Research Grant - Oatley Flora & Fauna Conservation Society - (AUD 2000)\n2025 Research Grant - Memorial Fund - Cumberland Bird Observers Club - (AUD 3000)\n2025 Research Grant - Wilma Barden Memorial - Hunter Bird Observers Club - (AUD 3000)\n2025 Student Travel Grant -Ecological Society of Australia - (AUD 1000)",
    "crumbs": [
      "Awards"
    ]
  },
  {
    "objectID": "qmd/reports/pub_5.html#prizes",
    "href": "qmd/reports/pub_5.html#prizes",
    "title": "Awards",
    "section": "Prizes",
    "text": "Prizes\n\n2025 Peter Fairweather Student Conference Support Award - (AUD 1000)",
    "crumbs": [
      "Awards"
    ]
  },
  {
    "objectID": "qmd/chapter_4/ch4_1.html",
    "href": "qmd/chapter_4/ch4_1.html",
    "title": "Chapter 4",
    "section": "",
    "text": "Coming soon to cinemas‚Ä¶",
    "crumbs": [
      "Chapter 4"
    ]
  },
  {
    "objectID": "qmd/chapter_2/ch2_1.html",
    "href": "qmd/chapter_2/ch2_1.html",
    "title": "Chapter 2",
    "section": "",
    "text": "Coming soon to cinemas‚Ä¶",
    "crumbs": [
      "Chapter 2"
    ]
  },
  {
    "objectID": "qmd/chapter_3/ch3_1.html",
    "href": "qmd/chapter_3/ch3_1.html",
    "title": "Chapter 3",
    "section": "",
    "text": "Coming soon to cinemas‚Ä¶",
    "crumbs": [
      "Chapter 3"
    ]
  },
  {
    "objectID": "qmd/chapter_5/ch5_1.html",
    "href": "qmd/chapter_5/ch5_1.html",
    "title": "Chapter 5",
    "section": "",
    "text": "Coming soon to cinemas‚Ä¶",
    "crumbs": [
      "Chapter 5"
    ]
  },
  {
    "objectID": "qmd/myphd.html#ph.d-project-and-objectives",
    "href": "qmd/myphd.html#ph.d-project-and-objectives",
    "title": "PhD Project Overview",
    "section": "",
    "text": "Currently a PhD candidate at the Center for Conservation Science, University of Newcastle, I focus on movement and spatial ecology from resident shorebirds and migratory species on their non-breeding ground, in Australia within the Hunter and Port Stephen estuaries. Shorebirds have complex behavioural and ecological needs which remain poorly understood at the level needed to inform regional land management decisions and ground-level protection in Australia.\nThis Research Project (PhD) intends to understand how local shorebirds use habitats for roosting and foraging, as it is crucial to inform stakeholders and land managers for effective conservation of both resident and migratory species."
  },
  {
    "objectID": "qmd/myphd.html#project-objectives",
    "href": "qmd/myphd.html#project-objectives",
    "title": "Movement Ecology - Shorebirds",
    "section": "Project & Objectives",
    "text": "Project & Objectives\nCurrently a PhD candidate at the Center for Conservation Science, University of Newcastle, I focus on movement and spatial ecology from resident shorebirds and migratory species on their non-breeding ground, in Australia within the Hunter and Port Stephen estuaries. Shorebirds have complex behavioural and ecological needs which remain poorly understood at the level needed to inform regional land management decisions and ground-level protection in Australia.\nThis Research Project (PhD) intends to understand how local shorebirds use habitats for roosting and foraging, as it is crucial to inform stakeholders and land managers for effective conservation of both resident and migratory species."
  },
  {
    "objectID": "qmd/chapter_1/ch1_9.html",
    "href": "qmd/chapter_1/ch1_9.html",
    "title": "Results",
    "section": "",
    "text": "Find all the results in Publications &gt; Scientific.",
    "crumbs": [
      "Results",
      "Results"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_10.html",
    "href": "qmd/chapter_1/ch1_10.html",
    "title": "Entropy, Eveness & Composition",
    "section": "",
    "text": "We can inform site usage for each species with its individual variation (i.e., average number of site used per species, average rate of use for a site and depending on tidal condition). However, the following question remaining unanswered is multiple: How loyal a bird is to his sites? Do the birds use the same sites? Is it varying at the individual and/or species level(s)? We provide two simple metrics to address this knowledge gap: Shannon entropy (H) and Jensen-Shannon Divergence(JSD).\nGrouped per species, this page aims to quantify the following:\n\nSite fidelity - Evenness equivalence- Shannon\nHow much birds part of a same species use the same sites along time?\nFor example, if species A uses an average of five sites per day, do individual birds consistently use the same five sites over time? Does each bird always use the same five sites, or do they switch sites from day to day while still using five sites daily?\nDo individuals have similar entropy (H)? How evenly does this bird distribute its site use (J)? Is this potential variation occuring at species and/or individual levels? Is this variation tide dependant?\nSite composition - Composition difference - Jensen-Shannon Divergence\nOnce we know whether a bird is loyal to its sites, we want to identify which sites is he loyal to.\nFor example, if Bird 1 uses sites A, B, and C, while Bird 2 uses sites C, D, and E, how to extract the site use difference between these two birds?\nAre individuals within a species using sites similarly? Is this variation tide dependant?\nlibrary(motus)\nlibrary(dplyr)\nlibrary(here)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(readr)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(vegan)  \nlibrary(philentropy) \nlibrary(gridExtra)\nlibrary(gt)\nlibrary(ggpubr)",
    "crumbs": [
      "Analysis",
      "Entropy, Eveness & Composition"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_10.html#shannon",
    "href": "qmd/chapter_1/ch1_10.html#shannon",
    "title": "Entropy, Eveness & Composition",
    "section": "Shannon",
    "text": "Shannon\n\nDefinition\nShannon entropy (H) (Shannon and Weaver -1949; MacArthur - 1965; Lou Jost - 2006)\n&gt; Is the individual site loyal?\nMetric employed when a large collection has a number of sites known -Type B collection (Pielou - 1966)-, to quantify the diversity of an individual‚Äôs site use. It measures the dispersion of an individual‚Äôs site use pattern.\n\n\\[\n\\text{H}   =    -Œ£(p_i √ó ln(p_i))\n\\] \\[\n\\text{where } p_i \\text{ is the proportion of detections at site } i\n\\]\n\n\nLow Entropy (e.g., H &lt; 1.0) - Individual is highly specialized\n\n\nUses only a few sites, or uses one site predominantly\n\nHigh site fidelity to specific locations\n\nLow unpredictability: we can predict where the bird will be\n\nHigh Entropy (e.g., H &gt; 2.0)\nIndividual is generalized\n\n\nUses many sites relatively equally\n\nLow site fidelity to any particular location\n\nHigh unpredictability: harder to predict where the bird will be\n\n\nCoefficient of Variation (CV) (Pearson - 1984)\n&gt; Are the individuals using the same sites?\nThe coefficient of variation (CV) measures relative variability in site fidelity metrics, calculated as standard deviation divided by the mean (often expressed as a percentage).¬†\n\nLow CV indicates uniform fidelity (e.g., most birds reuse similar site proportions)\nHigh CV signals heterogeneity (e.g., some wanderers vs.¬†stayers)\n\nEffective Number of Sites (exp(H)) (MacArthur - 1965)\n&gt; How many sites the individual is loyal to?\nThis transforms entropy into an interpretable number: the ‚Äúeffective number of equally-used sites‚Äù¬†\n\n\\[\n\\text{Effective Number of Sites}   =    exp(H)\n\\]\n\nIf H = 1.61, then exp(1.61) ‚âà 5 effective sites. The bird uses sites as if it were splitting time equally among 5 sites (even if it actually uses 10 sites, but with uneven distribution).\nPielou‚Äôs Evenness (J) (Pielou - 1966)\n&gt; Is an individual equally loyal across the sites they are loyal to?\nIn practice, Shannon entropy H increases both with number of sites (Motus stations) and when site used (detections from station) become more even, so it mixes two effects. Pielou‚Äôs index rescales by dividing it by the maximum possible Shannon entropy for the same number of sites, which is ln‚Å°(S) when all sites are equally represented. The resulting metric J=H/ln‚Å°(S) ranges from 0 to 1 and removes the dependence on the number of sites, giving a measure of how evenly the use of sites is distributed among sites.¬†\n\nJ close to 1: Individual uses all sites equally\nJ close to 0: Individual uses sites very unequally (dominates few sites)\n\n\n\\[\n\\text{J}   =    \\frac{H}{ln(S)} \\text{  where } S \\text{ the total number of sites used by one individual}\n\\]\n\n\n\nExamples\n\n\n\nGeneral results\nFirst, we define a all-in-one function to consistently computing shannon entropy.\n\n# Function to calculate Shannon entropy\ncalculate_shannon &lt;- function(proportions) {\n  # Remove zero proportions (shouldn't be any, but safety check)\n  p &lt;- proportions[proportions &gt; 0]\n  # Calculate Shannon entropy: H = -sum(p * ln(p))\n  H &lt;- -sum(p * log(p))\n  return(H)\n}\n\nNow we can proceed. Starting with counting the number of detection an individual has recorded in each stations, then extracting the proportions to finally calculate the entropy (H).\n\n# Calculate entropy metrics for each Band.ID\nentropy_results &lt;- data_all %&gt;%\n  # Remove any NA values in Band.ID or recvSiteName\n  filter(!is.na(Band.ID), !is.na(recvDeployName)) %&gt;%\n  \n  # Count detections per bird per site\n  group_by(speciesEN, Band.ID, recvDeployName) %&gt;%\n  summarise(detections = n(), .groups = \"drop\") %&gt;%\n  \n  # Calculate proportions for each bird\n  group_by(speciesEN, Band.ID) %&gt;%\n  mutate(\n    total_detections = sum(detections),\n    proportion = detections / total_detections) %&gt;%\n  \n  # Calculate metrics for each bird\n  summarise(\n    S = n(),                                    # Number of sites used\n    H = round(calculate_shannon(proportion), 2),# Shannon entropy\n    J = round(H / log(S), 2),                   # Pielou's evenness\n    total_detections = first(total_detections), # Total detections for reference\n    .groups = \"drop\") %&gt;%\n  \n  # Add effective number of equally-used sites\n  mutate(\n    exp_H = exp(H)) %&gt;% \n  \n  # Arrange by Band.ID\n  arrange(speciesEN, Band.ID)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable. Shannon entropy metrics for site use patterns of shorebird species in the Hunter estuary.\n\n\nSpecies (En.)\n\nSample\n\n\nNumber of Sites (S)\n\n\nShannon Entropy (H)\n\n\nPielou's Evenness (J)\n\n\nEffective Sites [exp(H)]\n\n\n\nN individuals\nTotal detections\nMedian S\nMean S\nSD S\nMedian H\nMean H\nSD H\nCV H (%)\nMedian J\nMean J\nSD J\nMedian exp(H)\nMean exp(H)\nSD exp(H)\n\n\n\n\nBar-tailed Godwit\n9\n132,188\n3.00\n2.33\n0.87\n0.58\n0.43\n0.33\n76.4\n0.60\n0.57\n0.28\n1.79\n1.60\n0.49\n\n\nCurlew Sandpiper\n5\n276,960\n6.00\n5.60\n0.55\n0.10\n0.11\n0.02\n21.3\n0.06\n0.07\n0.01\n1.11\n1.12\n0.03\n\n\nEurasian Whimbrel\n2\n5,978\n2.50\n2.50\n0.71\n0.45\n0.45\n0.51\n113.1\n0.43\n0.44\n0.43\n1.67\n1.67\n0.82\n\n\nFar Eastern Curlew\n1\n72,053\n2.00\n2.00\nNA\n0.04\n0.04\nNA\nNA\n0.06\n0.06\nNA\n1.04\n1.04\nNA\n\n\nMasked Lapwing\n1\n99\n1.00\n1.00\nNA\n0.00\n0.00\nNA\nNA\nNA\nNaN\nNA\n1.00\n1.00\nNA\n\n\nPacific Golden-Plover\n14\n1,281,139\n5.50\n5.21\n1.76\n0.09\n0.23\n0.27\n115.4\n0.09\n0.14\n0.15\n1.10\n1.31\n0.38\n\n\nPied Stilt\n6\n883,921\n2.00\n2.33\n1.51\n0.25\n0.30\n0.36\n121.0\n0.36\n0.40\n0.15\n1.29\n1.43\n0.61\n\n\nRed-necked Avocet\n3\n110,210\n6.00\n5.00\n1.73\n0.85\n0.88\n0.06\n6.5\n0.53\n0.59\n0.16\n2.34\n2.42\n0.14\n\n\n\nLegend. Grouped by species, this table summarises site fidelity metrics using Shannon entropy analysis. n_individuals: number of tagged individuals; S: number of unique sites used; H: Shannon entropy (dispersion of site use, higher = more generalised); J: Pielou‚Äôs evenness (0-1, higher = more even site use); exp(H): effective number of equally-used sites; CV_H: coefficient of variation in H (% individual variation within species); total_detections: total number of detections across all individuals. Mean and standard deviation values are provided (xÃÑ ¬± SD). Median values represent the central tendency across individuals within each species.\n\n\n\n\n\n\n\n\n\n# Prepare data for plotting\nentropy_for_plot &lt;- entropy_results %&gt;%\n  select(speciesEN, Band.ID, S, H, J, exp_H) %&gt;%\n  pivot_longer(\n    cols = c(S, H, J, exp_H),\n    names_to = \"metric\",\n    values_to = \"value\" ) %&gt;%\n  mutate( metric = factor(metric, \n                   levels = c(\"S\", \"H\", \"J\", \"exp_H\"),\n                   labels = c(\"S (Number of Sites)\", \n                             \"H (Shannon Entropy)\", \n                             \"J (Pielou's Evenness)\", \n                             \"exp(H) (Effective Sites)\")))\n\n# Create the boxplot\nggplot(entropy_for_plot, aes(x = speciesEN, y = value, fill = speciesEN)) +\n  geom_boxplot(alpha = 0.7, outlier.shape = 16) +\n  geom_jitter(width = 0.2, alpha = 0.3, size = 1) +\n  facet_wrap(~ metric, scales = \"free_y\", ncol = 2) +\n  scale_fill_manual(values = species_colors) +\n  labs(\n    title = \"Shannon Entropy Metrics by Species\",\n    subtitle = \"Distribution of site use patterns across individuals\",\n    x = \"Species\",\n    y = \"Value\",\n    fill = \"Species\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 9),\n    strip.text = element_text(face = \"bold\", size = 11),\n    legend.position = \"none\",  \n    panel.grid.major.x = element_blank())\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nS table\n\n\n\n\n\n\n\n\n\n\n\n\n\nS - Number of Sites Used\n\n\nSpecies\nBand ID\nS\n\n\n\n\nBar-tailed Godwit\n7176824\n3\n\n\nBar-tailed Godwit\n7394014\n1\n\n\nBar-tailed Godwit\n7394017\n2\n\n\nBar-tailed Godwit\n7394018\n1\n\n\nBar-tailed Godwit\n7394019\n2\n\n\nBar-tailed Godwit\n7394026\n3\n\n\nBar-tailed Godwit\n7394027\n3\n\n\nBar-tailed Godwit\n7394032\n3\n\n\nBar-tailed Godwit\n8345053\n3\n\n\nCurlew Sandpiper\n4281407\n6\n\n\nCurlew Sandpiper\n4281408\n6\n\n\nCurlew Sandpiper\n4281409\n5\n\n\nCurlew Sandpiper\n4281410\n5\n\n\nCurlew Sandpiper\n4281420\n6\n\n\nEurasian Whimbrel\n8345054\n3\n\n\nEurasian Whimbrel\n8345055\n2\n\n\nFar Eastern Curlew\n10118806\n2\n\n\nMasked Lapwing\n8295845\n1\n\n\nPacific Golden-Plover\n6318617\n6\n\n\nPacific Golden-Plover\n6318618\n7\n\n\nPacific Golden-Plover\n6318619\n4\n\n\nPacific Golden-Plover\n6318620\n6\n\n\nPacific Golden-Plover\n6318621\n7\n\n\nPacific Golden-Plover\n6318624\n7\n\n\nPacific Golden-Plover\n6318625\n5\n\n\nPacific Golden-Plover\n6318626\n5\n\n\nPacific Golden-Plover\n6318627\n7\n\n\nPacific Golden-Plover\n6318629\n6\n\n\nPacific Golden-Plover\n6318630\n3\n\n\nPacific Golden-Plover\n6318633\n4\n\n\nPacific Golden-Plover\n6318635\n1\n\n\nPacific Golden-Plover\n6318799\n5\n\n\nPied Stilt\n8295770\n3\n\n\nPied Stilt\n8295772\n1\n\n\nPied Stilt\n8295773\n2\n\n\nPied Stilt\n8295774\n5\n\n\nPied Stilt\n8295775\n1\n\n\nPied Stilt\n8295776\n2\n\n\nRed-necked Avocet\n8295778\n3\n\n\nRed-necked Avocet\n8295780\n6\n\n\nRed-necked Avocet\n8295781\n6\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nH table\n\n\n\n\n\n\n\n\n\n\n\n\n\nH - Shannon Entropy\n\n\nSpecies\nBand ID\nH\n\n\n\n\nBar-tailed Godwit\n7176824\n0.58\n\n\nBar-tailed Godwit\n7394014\n0.00\n\n\nBar-tailed Godwit\n7394017\n0.69\n\n\nBar-tailed Godwit\n7394018\n0.00\n\n\nBar-tailed Godwit\n7394019\n0.26\n\n\nBar-tailed Godwit\n7394026\n0.66\n\n\nBar-tailed Godwit\n7394027\n0.79\n\n\nBar-tailed Godwit\n7394032\n0.13\n\n\nBar-tailed Godwit\n8345053\n0.72\n\n\nCurlew Sandpiper\n4281407\n0.10\n\n\nCurlew Sandpiper\n4281408\n0.15\n\n\nCurlew Sandpiper\n4281409\n0.09\n\n\nCurlew Sandpiper\n4281410\n0.10\n\n\nCurlew Sandpiper\n4281420\n0.12\n\n\nEurasian Whimbrel\n8345054\n0.81\n\n\nEurasian Whimbrel\n8345055\n0.09\n\n\nFar Eastern Curlew\n10118806\n0.04\n\n\nMasked Lapwing\n8295845\n0.00\n\n\nPacific Golden-Plover\n6318617\n0.02\n\n\nPacific Golden-Plover\n6318618\n0.04\n\n\nPacific Golden-Plover\n6318619\n0.01\n\n\nPacific Golden-Plover\n6318620\n0.03\n\n\nPacific Golden-Plover\n6318621\n0.55\n\n\nPacific Golden-Plover\n6318624\n0.73\n\n\nPacific Golden-Plover\n6318625\n0.52\n\n\nPacific Golden-Plover\n6318626\n0.20\n\n\nPacific Golden-Plover\n6318627\n0.32\n\n\nPacific Golden-Plover\n6318629\n0.66\n\n\nPacific Golden-Plover\n6318630\n0.01\n\n\nPacific Golden-Plover\n6318633\n0.04\n\n\nPacific Golden-Plover\n6318635\n0.00\n\n\nPacific Golden-Plover\n6318799\n0.14\n\n\nPied Stilt\n8295770\n0.29\n\n\nPied Stilt\n8295772\n0.00\n\n\nPied Stilt\n8295773\n0.30\n\n\nPied Stilt\n8295774\n0.97\n\n\nPied Stilt\n8295775\n0.00\n\n\nPied Stilt\n8295776\n0.21\n\n\nRed-necked Avocet\n8295778\n0.85\n\n\nRed-necked Avocet\n8295780\n0.95\n\n\nRed-necked Avocet\n8295781\n0.85\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJ table\n\n\n\n\n\n\n\n\n\n\n\n\n\nJ - Pielou‚Äôs Evenness\n\n\nSpecies\nBand ID\nJ\n\n\n\n\nBar-tailed Godwit\n7176824\n0.53\n\n\nBar-tailed Godwit\n7394014\nNaN\n\n\nBar-tailed Godwit\n7394017\n1.00\n\n\nBar-tailed Godwit\n7394018\nNaN\n\n\nBar-tailed Godwit\n7394019\n0.38\n\n\nBar-tailed Godwit\n7394026\n0.60\n\n\nBar-tailed Godwit\n7394027\n0.72\n\n\nBar-tailed Godwit\n7394032\n0.12\n\n\nBar-tailed Godwit\n8345053\n0.66\n\n\nCurlew Sandpiper\n4281407\n0.06\n\n\nCurlew Sandpiper\n4281408\n0.08\n\n\nCurlew Sandpiper\n4281409\n0.06\n\n\nCurlew Sandpiper\n4281410\n0.06\n\n\nCurlew Sandpiper\n4281420\n0.07\n\n\nEurasian Whimbrel\n8345054\n0.74\n\n\nEurasian Whimbrel\n8345055\n0.13\n\n\nFar Eastern Curlew\n10118806\n0.06\n\n\nMasked Lapwing\n8295845\nNaN\n\n\nPacific Golden-Plover\n6318617\n0.01\n\n\nPacific Golden-Plover\n6318618\n0.02\n\n\nPacific Golden-Plover\n6318619\n0.01\n\n\nPacific Golden-Plover\n6318620\n0.02\n\n\nPacific Golden-Plover\n6318621\n0.28\n\n\nPacific Golden-Plover\n6318624\n0.38\n\n\nPacific Golden-Plover\n6318625\n0.32\n\n\nPacific Golden-Plover\n6318626\n0.12\n\n\nPacific Golden-Plover\n6318627\n0.16\n\n\nPacific Golden-Plover\n6318629\n0.37\n\n\nPacific Golden-Plover\n6318630\n0.01\n\n\nPacific Golden-Plover\n6318633\n0.03\n\n\nPacific Golden-Plover\n6318635\nNaN\n\n\nPacific Golden-Plover\n6318799\n0.09\n\n\nPied Stilt\n8295770\n0.26\n\n\nPied Stilt\n8295772\nNaN\n\n\nPied Stilt\n8295773\n0.43\n\n\nPied Stilt\n8295774\n0.60\n\n\nPied Stilt\n8295775\nNaN\n\n\nPied Stilt\n8295776\n0.30\n\n\nRed-necked Avocet\n8295778\n0.77\n\n\nRed-necked Avocet\n8295780\n0.53\n\n\nRed-necked Avocet\n8295781\n0.47\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexp(H) table\n\n\n\n\n\n\n\n\n\n\n\n\n\nexp(H) - Effective Number of Sites\n\n\nSpecies\nBand ID\nexp(H)\n\n\n\n\nBar-tailed Godwit\n7176824\n1.79\n\n\nBar-tailed Godwit\n7394014\n1.00\n\n\nBar-tailed Godwit\n7394017\n1.99\n\n\nBar-tailed Godwit\n7394018\n1.00\n\n\nBar-tailed Godwit\n7394019\n1.30\n\n\nBar-tailed Godwit\n7394026\n1.93\n\n\nBar-tailed Godwit\n7394027\n2.20\n\n\nBar-tailed Godwit\n7394032\n1.14\n\n\nBar-tailed Godwit\n8345053\n2.05\n\n\nCurlew Sandpiper\n4281407\n1.11\n\n\nCurlew Sandpiper\n4281408\n1.16\n\n\nCurlew Sandpiper\n4281409\n1.09\n\n\nCurlew Sandpiper\n4281410\n1.11\n\n\nCurlew Sandpiper\n4281420\n1.13\n\n\nEurasian Whimbrel\n8345054\n2.25\n\n\nEurasian Whimbrel\n8345055\n1.09\n\n\nFar Eastern Curlew\n10118806\n1.04\n\n\nMasked Lapwing\n8295845\n1.00\n\n\nPacific Golden-Plover\n6318617\n1.02\n\n\nPacific Golden-Plover\n6318618\n1.04\n\n\nPacific Golden-Plover\n6318619\n1.01\n\n\nPacific Golden-Plover\n6318620\n1.03\n\n\nPacific Golden-Plover\n6318621\n1.73\n\n\nPacific Golden-Plover\n6318624\n2.08\n\n\nPacific Golden-Plover\n6318625\n1.68\n\n\nPacific Golden-Plover\n6318626\n1.22\n\n\nPacific Golden-Plover\n6318627\n1.38\n\n\nPacific Golden-Plover\n6318629\n1.93\n\n\nPacific Golden-Plover\n6318630\n1.01\n\n\nPacific Golden-Plover\n6318633\n1.04\n\n\nPacific Golden-Plover\n6318635\n1.00\n\n\nPacific Golden-Plover\n6318799\n1.15\n\n\nPied Stilt\n8295770\n1.34\n\n\nPied Stilt\n8295772\n1.00\n\n\nPied Stilt\n8295773\n1.35\n\n\nPied Stilt\n8295774\n2.64\n\n\nPied Stilt\n8295775\n1.00\n\n\nPied Stilt\n8295776\n1.23\n\n\nRed-necked Avocet\n8295778\n2.34\n\n\nRed-necked Avocet\n8295780\n2.59\n\n\nRed-necked Avocet\n8295781\n2.34\n\n\n\n\n\n\n\n\n\n\n\n\nStatistical Tests\nKruskal-Wallis test compares entropy across species and across individual within species.\nœá¬≤ is provided as the test statistic to inform about the variance of the ranks among groups. The higher is the value, the more groups are different from each other. Significance is also informed.\nTest 1. Compares H, J, and S across all species: Are species different from each other?\n\n\n\n\n\n\n\n\nAcross species: Kruskal-Wallis Test Results\n\n\nComparing Shannon entropy metrics across species\n\n\nMetric\nœá¬≤\ndf\np-value\nSig.\n\n\n\n\nH (Shannon Entropy)\n11.627\n7\n1.135¬†√ó¬†10‚àí1\nns\n\n\nJ (Pielou's Evenness)\n20.718\n6\n2.062¬†√ó¬†10‚àí3\n**\n\n\nS (Number of Sites)\n23.230\n7\n1.554¬†√ó¬†10‚àí3\n**\n\n\n\nSignificance codes: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, ns = not significant (p ‚â• 0.05). Green highlighting indicates significant differences among species.\n\n\n\n\n\n\n\n\nTest 2. Compares H and J across individuals within each species: within a species, are individuals different from each other?\n\nNote: To proceed, we removed every species group having a size sample inferior of two. Since it is a comparison test.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWithin Species: Kruskal-Wallis Test Results\n\n\nComparing entropy metrics across individuals within each species\n\n\nSpecies\nN\n\nH (Shannon Entropy)\n\n\nJ (Pielou's Evenness)\n\n\nS (Number of Sites)\n\n\n\nœá¬≤\ndf\np-value\nSig.\nœá¬≤\ndf\np-value\nSig.\nœá¬≤\ndf\np-value\nSig.\n\n\n\n\nBar-tailed Godwit\n9\n8.000\n8\n4.335¬†√ó¬†10‚àí1\nns\n6.000\n6\n4.232¬†√ó¬†10‚àí1\nns\n8.000\n8\n4.335¬†√ó¬†10‚àí1\nns\n\n\nCurlew Sandpiper\n5\n4.000\n4\n4.060¬†√ó¬†10‚àí1\nns\n4.000\n4\n4.060¬†√ó¬†10‚àí1\nns\n4.000\n4\n4.060¬†√ó¬†10‚àí1\nns\n\n\nPacific Golden-Plover\n14\n13.000\n13\n4.478¬†√ó¬†10‚àí1\nns\n12.000\n12\n4.457¬†√ó¬†10‚àí1\nns\n13.000\n13\n4.478¬†√ó¬†10‚àí1\nns\n\n\nPied Stilt\n6\n5.000\n5\n4.159¬†√ó¬†10‚àí1\nns\n3.000\n3\n3.916¬†√ó¬†10‚àí1\nns\n5.000\n5\n4.159¬†√ó¬†10‚àí1\nns\n\n\nRed-necked Avocet\n3\n2.000\n2\n3.679¬†√ó¬†10‚àí1\nns\n2.000\n2\n3.679¬†√ó¬†10‚àí1\nns\n2.000\n2\n3.679¬†√ó¬†10‚àí1\nns\n\n\n\nSignificance codes: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, ns = not significant (p ‚â• 0.05). N = number of individuals. Green/blue/yellow highlighting indicates significant differences among individuals within that species. Only species with ‚â•3 individuals are included (minimum requirement for Kruskal-Wallis test).\n\n\n\n\n\n\n\n\n\n\nTidal dependance\nWe now want to clarify whether birds associate site fidelity depending the tide, therefore likely depending their behavior (i.e., foraging vs roosting).\n\n# Calculate entropy metrics for each Band.ID\nentropy_results_tide &lt;- data_all %&gt;%\n  # Remove any NA values in Band.ID or recvSiteName\n  filter(!is.na(Band.ID), !is.na(recvDeployName)) %&gt;%\n  \n  # Count detections per bird per site\n  group_by(speciesEN, Band.ID, recvDeployName, tideHighLow) %&gt;%\n  summarise(detections = n(), .groups = \"drop\") %&gt;%\n  \n  # Calculate proportions for each bird\n  group_by(speciesEN, Band.ID, tideHighLow) %&gt;%\n  mutate(\n    total_detections = sum(detections),\n    proportion = detections / total_detections) %&gt;%\n  \n  # Calculate metrics for each bird\n  summarise(\n    S = n(),                                              # Number of sites used\n    H = round(calculate_shannon(proportion), 2),          # Shannon entropy\n    J = round(H / log(S), 2),                             # Pielou's evenness\n    total_detections = first(total_detections),           # Total detections for reference\n    .groups = \"drop\") %&gt;%\n  \n  # Add effective number equally-used sites\n  mutate(\n    exp_H = exp(H)) %&gt;%\n\n  \n  # Arrange by Band.ID\n  arrange(speciesEN, Band.ID, tideHighLow)\n\n\n# Prepare data\nentropy_for_plot_tide &lt;- entropy_results_tide %&gt;%\n  select(speciesEN, tideHighLow, Band.ID, S, H, J, exp_H) %&gt;%\n  pivot_longer(\n    cols = c(S, H, J, exp_H),\n    names_to = \"metric\",\n    values_to = \"value\" ) %&gt;%\n  mutate( \n    metric = factor(metric, \n                   levels = c(\"S\", \"H\", \"J\", \"exp_H\"),\n                   labels = c(\"S (Number of Sites)\", \n                             \"H (Shannon Entropy)\", \n                             \"J (Pielou's Evenness)\", \n                             \"exp(H) (Effective Sites)\")) )\n\n# Compute t-tets\ntide_tests &lt;- entropy_for_plot_tide %&gt;%\n  group_by(speciesEN, metric) %&gt;%\n  summarise(\n    n_high = sum(tideHighLow == \"High\"),\n    n_low = sum(tideHighLow == \"Low\"),\n    # Use t-test if n &gt;= 3 in both groups, otherwise skip\n    p_value = if(n_high &gt;= 3 & n_low &gt;= 3) {\n      t.test(value ~ tideHighLow)$p.value\n    } else {\n      NA\n    },\n    test_used = if(n_high &gt;= 3 & n_low &gt;= 3) \"t-test\" else \"insufficient data\",\n    .groups = \"drop\"\n  ) %&gt;%\n  mutate(\n    significance = case_when(\n      is.na(p_value) ~ \"\",\n      p_value &lt; 0.001 ~ \"***\",\n      p_value &lt; 0.01 ~ \"**\",\n      p_value &lt; 0.05 ~ \"*\",\n      TRUE ~ \"ns\"  ))\n\n\nggplot(entropy_for_plot_tide, aes(x = speciesEN, y = value, fill = speciesEN, alpha = tideHighLow)) +\n  geom_boxplot(aes(group = interaction(speciesEN, tideHighLow)), \n               position = position_dodge(width = 0.8), \n               outlier.shape = 16) +\n  geom_point(aes(group = interaction(speciesEN, tideHighLow)),\n           position = position_jitterdodge(jitter.width = 0.1, dodge.width = 0.8), \n           size = 1.1) +\n  facet_wrap(~ metric, scales = \"free_y\", ncol = 2) +\n  scale_fill_manual(values = species_colors) +\n  scale_alpha_manual( values = c(\"High\" = 1.0, \"Low\" = 0.2)) +\n  \n  # Add significance brackets\n  stat_compare_means(\n    aes(group = tideHighLow),\n    method = \"t.test\",\n    label = \"p.signif\",\n    hide.ns = TRUE,\n    size = 3,\n    bracket.size = 0.3) +\n  labs(\n    title = \"Shannon Entropy Metrics by Species and Tide\",\n    subtitle = \"Distribution of site use patterns across individuals and tide (High tide: solid, Low tide: transparent)\",\n    x = \"Species\",\n    y = \"Value\",\n    fill = \"Species\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 9),\n    strip.text = element_text(face = \"bold\", size = 11),\n    legend.position = \"none\",\n    panel.grid.major.x = element_blank())\n\n\n\n\n\n\n\n\nSee below t-test results which compare entropy values between low and high tides for each species.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nT-test Results: High vs Low Tide Comparison\n\n\nSpecies\n\nS (Number of Sites)\n\n\nH (Shannon Entropy)\n\n\nJ (Pielou's Evenness)\n\n\nexp(H) (Effective Sites)\n\n\n\np-value\nSig.\np-value\nSig.\np-value\nSig.\np-value\nSig.\n\n\n\n\nBar-tailed Godwit\n7.856¬†√ó¬†10‚àí1\nns\n6.656¬†√ó¬†10‚àí1\nns\n2.343¬†√ó¬†10‚àí1\nns\n6.795¬†√ó¬†10‚àí1\nns\n\n\nCurlew Sandpiper\n1.000\nns\n6.651¬†√ó¬†10‚àí2\nns\n7.876¬†√ó¬†10‚àí2\nns\n7.286¬†√ó¬†10‚àí2\nns\n\n\nEurasian Whimbrel\nNA\n\nNA\n\nNA\n\nNA\n\n\n\nFar Eastern Curlew\nNA\n\nNA\n\nNA\n\nNA\n\n\n\nMasked Lapwing\nNA\n\nNA\n\nNA\n\nNA\n\n\n\nPacific Golden-Plover\n4.766¬†√ó¬†10‚àí1\nns\n8.166¬†√ó¬†10‚àí1\nns\n6.635¬†√ó¬†10‚àí1\nns\n7.352¬†√ó¬†10‚àí1\nns\n\n\nPied Stilt\n1.000\nns\n7.621¬†√ó¬†10‚àí1\nns\n5.024¬†√ó¬†10‚àí1\nns\n9.254¬†√ó¬†10‚àí1\nns\n\n\nRed-necked Avocet\n5.185¬†√ó¬†10‚àí1\nns\n1.327¬†√ó¬†10‚àí1\nns\n7.433¬†√ó¬†10‚àí2\nns\n7.774¬†√ó¬†10‚àí2\nns\n\n\n\nSignificance codes: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, ns = not significant. T-tests compare mean values between High and Low tide for each species-metric combination. Green highlighting indicates significant differences (p &lt; 0.05).\n\n\n\n\n\n\n\n\nNow, we displayed below for each species their associated entropy metrics, side by side with high and low tides so we can easily compare the values and report to the boxplot above.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable. Shannon entropy metrics for site use patterns of shorebird species by tide state in the Hunter estuary.\n\n\nTide\n\nSample\n\n\nNumber of Sites (S)\n\n\nShannon Entropy (H)\n\n\nPielou's Evenness (J)\n\n\nEffective Sites [exp(H)]\n\n\n\nN indiv.\nTotal det.\nMedian\nMean\nSD\nMedian\nMean\nSD\nCV (%)\nMedian\nMean\nSD\nMedian\nMean\nSD\n\n\n\n\nRed-necked Avocet\n\n\nLow\n3\n26,612\n5.00\n4.00\n1.73\n0.60\n0.47\n0.33\n70.9\n0.37\n0.31\n0.16\n1.82\n1.65\n0.49\n\n\nHigh\n3\n83,598\n6.00\n5.00\n1.73\n0.91\n0.93\n0.07\n7.2\n0.56\n0.62\n0.15\n2.48\n2.53\n0.17\n\n\nPied Stilt\n\n\nLow\n6\n391,507\n1.50\n2.17\n1.60\n0.04\n0.24\n0.43\n177.3\n0.25\n0.35\n0.29\n1.04\n1.39\n0.77\n\n\nHigh\n6\n492,414\n2.00\n2.17\n1.47\n0.28\n0.31\n0.33\n106.2\n0.48\n0.48\n0.08\n1.33\n1.43\n0.53\n\n\nPacific Golden-Plover\n\n\nLow\n14\n647,268\n5.00\n4.79\n1.89\n0.08\n0.23\n0.26\n113.6\n0.06\n0.14\n0.14\n1.08\n1.30\n0.37\n\n\nHigh\n14\n633,871\n4.50\n4.29\n1.77\n0.12\n0.26\n0.32\n122.6\n0.11\n0.17\n0.20\n1.13\n1.36\n0.48\n\n\nMasked Lapwing\n\n\nLow\n1\n77\n1.00\n1.00\nNA\n0.00\n0.00\nNA\nNA\nNA\nNaN\nNA\n1.00\n1.00\nNA\n\n\nHigh\n1\n22\n1.00\n1.00\nNA\n0.00\n0.00\nNA\nNA\nNA\nNaN\nNA\n1.00\n1.00\nNA\n\n\nFar Eastern Curlew\n\n\nLow\n1\n51,270\n2.00\n2.00\nNA\n0.04\n0.04\nNA\nNA\n0.06\n0.06\nNA\n1.04\n1.04\nNA\n\n\nHigh\n1\n20,783\n2.00\n2.00\nNA\n0.06\n0.06\nNA\nNA\n0.09\n0.09\nNA\n1.06\n1.06\nNA\n\n\nEurasian Whimbrel\n\n\nLow\n2\n997\n2.00\n2.00\n1.41\n0.46\n0.46\n0.65\n141.4\n0.84\n0.84\nNA\n1.75\n1.75\n1.07\n\n\nHigh\n2\n4,981\n2.50\n2.50\n0.71\n0.32\n0.32\n0.30\n96.5\n0.31\n0.31\n0.24\n1.40\n1.40\n0.42\n\n\nCurlew Sandpiper\n\n\nLow\n5\n130,120\n5.00\n5.20\n0.45\n0.13\n0.13\n0.05\n33.6\n0.08\n0.08\n0.03\n1.14\n1.14\n0.05\n\n\nHigh\n5\n146,840\n5.00\n5.20\n0.45\n0.09\n0.08\n0.01\n16.0\n0.06\n0.05\n0.01\n1.09\n1.09\n0.01\n\n\nBar-tailed Godwit\n\n\nLow\n8\n20,558\n2.50\n2.25\n0.89\n0.60\n0.47\n0.32\n67.1\n0.69\n0.69\n0.24\n1.82\n1.67\n0.47\n\n\nHigh\n8\n111,630\n3.00\n2.38\n0.92\n0.46\n0.40\n0.34\n85.3\n0.58\n0.52\n0.24\n1.60\n1.57\n0.51\n\n\n\nLegend. Grouped by species and tide state (Low/High), this table summarises site fidelity metrics using Shannon entropy analysis. tideHighLow: tide state during detections (Low or High tide); n_individuals: number of tagged individuals; S: number of unique sites used; H: Shannon entropy (dispersion of site use, higher = more generalised); J: Pielou‚Äôs evenness (0-1, higher = more even site use); exp(H): effective number of equally-used sites; CV_H: coefficient of variation in H (% individual variation within species); total_detections: total number of detections across all individuals. Mean and standard deviation values are provided (xÃÑ ¬± SD). Median values represent the central tendency across individuals within each species.",
    "crumbs": [
      "Analysis",
      "Entropy, Eveness & Composition"
    ]
  },
  {
    "objectID": "qmd/chapter_1/ch1_10.html#jensen-shannon-divergence",
    "href": "qmd/chapter_1/ch1_10.html#jensen-shannon-divergence",
    "title": "Entropy, Eveness & Composition",
    "section": "Jensen-Shannon Divergence",
    "text": "Jensen-Shannon Divergence\n\nDefinition\nJSD (Lin - 1991; Takahashi et al.¬†2012)\n&gt; Do the individuals use the same sites? Are they loyal to the same sites?\nNow we know how loyal individuals are to their sites and whether there are differences across species in term of site fidelity (H), we also put against this metric the evenness which describes whether a bird use multiple site but effectively use a few (J).\nWe now want to clarify whether birds are using the same sites within the same species, regardless the number of sites used. We called another metric named Jensen-Shannon Divergence (JSD), which quantifies how different two probability distributions of site usage are (e.g., site proportions for two birds), answering whether two individuals are using the same composition of sites.\n\nJSD is defined with the simplified formula here below:\n\n\\[\n\\text{JSD}(P‚à•Q)  =  H(M) - \\frac{H(P) + H(Q)}{2}\n\\]\n\\[\n\\text{where } Q \\text{ and  } P \\text{ the site use distributions for two individuals; } M \\text{ the mixture (average) site distribution; and } H \\text{ the Shannon entropy}\n\\]\n\n\nJSD ‚âà 0 (Similarity ‚âà 1.0)\n\n\nIndividuals use sites in nearly identical proportions\n\nHigh overlap in site use patterns\n\nSuggests shared habitat preferences or social coordination\n\nJSD ‚âà 1.0 (Similarity ‚âà 0)\n\n\nIndividuals use completely different sets of sites or proportions\n\nLow overlap in site use patterns\n\nSuggests individual specialization or territoriality\n\n\n\n\nGeneral results\nFirst, we set a function that will compute the JSD metric for later in the process.\n\n# Function to calculate Jensen-Shannon Divergence\ncalculate_jsd &lt;- function(p, q) {\n  # Add small value to avoid log(0)\n  epsilon &lt;- 1e-10\n  p &lt;- p + epsilon\n  q &lt;- q + epsilon\n  \n  # Normalise\n  p &lt;- p / sum(p)\n  q &lt;- q / sum(q)\n  \n  # Calculate JSD\n  m &lt;- (p + q) / 2\n  jsd &lt;- 0.5 * sum(p * log2(p / m)) + 0.5 * sum(q * log2(q / m))\n  \n  return(jsd)\n}\n\nSecond, we need to prepare the data frame which will be used for calculation. It must include for each individual its proportion of site used and its total.\nThen, we can proceed and extract JSD for each pair of individuals. Indeed, JSD test the similarity between two individual, so it conducts a pairwise test.\n\n# Create site use matrix (rows = individuals, columns = sites)\nsite_use_matrix &lt;- data_all %&gt;%\n  filter(!is.na(Band.ID), !is.na(recvDeployName)) %&gt;%\n  group_by(Band.ID, recvDeployName) %&gt;%\n  summarise(detections = n(), .groups = \"drop\") %&gt;%\n  group_by(Band.ID) %&gt;%\n  mutate(proportion = round(detections / sum(detections), 2)) %&gt;%\n  select(Band.ID, recvDeployName, proportion) %&gt;%\n  pivot_wider(\n    names_from = recvDeployName,\n    values_from = proportion,\n    values_fill = 0)\n\n# Calculate pairwise JSD\nindividual_ids &lt;- site_use_matrix$Band.ID\nn_individuals &lt;- length(individual_ids)\n\njsd_results &lt;- data.frame()\n\nfor (i in 1:(n_individuals - 1)) {\n  for (j in (i + 1):n_individuals) {\n    \n    p &lt;- as.numeric(site_use_matrix[i, -1])\n    q &lt;- as.numeric(site_use_matrix[j, -1])\n    \n    jsd_results &lt;- rbind(jsd_results, data.frame(\n      Band.ID_1 = individual_ids[i],\n      Band.ID_2 = individual_ids[j],\n      JSD = round(calculate_jsd(p, q), 3),\n      Similarity = round(1 - calculate_jsd(p, q), 3)))\n  }\n}\n\n# Add species information\njsd_results &lt;- jsd_results %&gt;%\n  left_join(data_all %&gt;% select(Band.ID, speciesEN) %&gt;% distinct(), \n            by = c(\"Band.ID_1\" = \"Band.ID\")) %&gt;%\n  rename(species_1 = speciesEN) %&gt;%\n  left_join(data_all %&gt;% select(Band.ID, speciesEN) %&gt;% distinct(), \n            by = c(\"Band.ID_2\" = \"Band.ID\")) %&gt;%\n  rename(species_2 = speciesEN) %&gt;%\n  mutate(same_species = species_1 == species_2)\n\nWe can summarise the results to better handle visualisations.\n\njsd_results_tab &lt;- jsd_results %&gt;%\n  filter(same_species == TRUE) %&gt;%\n  group_by(species_1) %&gt;%\n  summarise(\n    n_comparisons = n(),\n    mean_JSD = round(mean(JSD), 3),\n    sd_JSD = round(sd(JSD), 3),\n    mean_Similarity = round(mean(Similarity), 3),\n    sd_Similarity = round(sd(Similarity), 3),\n    .groups = \"drop\") %&gt;%\n  rename(speciesEN = species_1)\n\n\nn_indiv &lt;- data_all %&gt;%\n  group_by(speciesEN) %&gt;%\n  summarise(n_indiv = n_distinct(Band.ID), .groups = \"drop\")\njsd_results_tab &lt;- jsd_results_tab %&gt;%\n  left_join(n_indiv, by = \"speciesEN\") %&gt;%\n  select(speciesEN, n_indiv, everything()) %&gt;%\n  arrange(mean_JSD)\n\n\n# Filter to same_species comparisons and prepare for boxplot (matching entropy_for_plot structure)\njsd_for_plot &lt;- jsd_results %&gt;%\n  \n  filter(same_species == TRUE) %&gt;%\n  \n  mutate(\n    metric = \"JSD\",\n    speciesEN = species_1) %&gt;% \n  \n  select(speciesEN, JSD, metric) %&gt;%\n  rename(value = JSD)\n\n# Boxplot exactly matching your entropy format\nggplot(jsd_for_plot, aes(x = speciesEN, y = value, fill = speciesEN)) +\n  \n  geom_boxplot(alpha = 0.7, outlier.shape = 16) +\n  geom_jitter(width = 0.2, alpha = 0.3, size = 1) +\n  \n  scale_fill_manual(values = species_colors) +\n  \n  labs(\n    title = \"Jensen-Shannon Divergence by Species\",\n    subtitle = \"Individual pairwise similarity within species\",\n    x = \"Species\",\n    y = \"JSD Value\",\n    fill = \"Species\") +\n  \n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 9),\n    strip.text = element_text(face = \"bold\", size = 11),\n    legend.position = \"none\",  \n    panel.grid.major.x = element_blank())\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nspeciesEN\nn_indiv\nn_comparisons\nmean_JSD\nsd_JSD\nmean_Similarity\nsd_Similarity\n\n\n\n\nRed-necked Avocet\n3\n3\n0.007\n0.002\n0.993\n0.002\n\n\nCurlew Sandpiper\n5\n10\n0.010\n0.007\n0.990\n0.007\n\n\nEurasian Whimbrel\n2\n1\n0.130\nNA\n0.870\nNA\n\n\nPacific Golden-Plover\n14\n91\n0.285\n0.343\n0.715\n0.343\n\n\nPied Stilt\n6\n15\n0.370\n0.439\n0.630\n0.439\n\n\nBar-tailed Godwit\n9\n36\n0.585\n0.403\n0.415\n0.403\n\n\n\n\n\n\n\n\n\nStatistical Tests\nWe will use Kruskal-Wallis test if the distributions of JSD differ among species. It is a non-parametric (doesn‚Äôt assume normal distribution), it handles unequal sample sizes (different number of comparisons per species).\n\n\n\n\n\n\n\n\nKruskal-Wallis Test Results\n\n\nComparing value across groups\n\n\nMetric\nœá2\ndf\np-value\nSig.\n\n\n\n\nValue\n31.956\n5\n6.062¬†√ó¬†10‚àí6\n***\n\n\n\nSignificance codes: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, ns = not significant (p ‚â• 0.05). Green highlighting indicates significant differences.\n\n\n\n\n\n\n\n\nIn the aim to observe which species significantly differs from another in term of individual co;position of site used, we need to conduct pairwise test across species.\nWe used the Dunn method Dunn - 1964 which applies a Bonferroni correction to extract the false positive from JSD significance. The Bonferroni correction adjusts for this by dividing the significance level by the number of tests (Bonferroni -).\n\n# If significant, do post-hoc pairwise comparisons\nif(kruskal_value$p.value &lt; 0.05) {\n  library(FSA)\n  dunn_jsd &lt;- dunnTest(JSD ~ species_1, \n                       data = jsd_results %&gt;% filter(same_species == TRUE),\n                       method = \"bonferroni\")\n  print(dunn_jsd)\n}\n\n\n\n\n\n\n\n\n\nBonferroni Correction Post-Hoc Test (Dunn)\n\n\nPairwise JSD comparisons across species\n\n\nComparison\nZ\np unadj\np adj\nSig.\n\n\n\n\nBar-tailed Godwit - Curlew Sandpiper\n4.83957697\n1.301¬†√ó¬†10‚àí6\n1.952¬†√ó¬†10‚àí5\n***\n\n\nBar-tailed Godwit - Eurasian Whimbrel\n0.42942892\n6.676¬†√ó¬†10‚àí1\n1.000\nns\n\n\nBar-tailed Godwit - Pacific Golden-Plover\n3.61846964\n2.964¬†√ó¬†10‚àí4\n4.445¬†√ó¬†10‚àí3\n**\n\n\nBar-tailed Godwit - Pied Stilt\n1.26994676\n2.041¬†√ó¬†10‚àí1\n1.000\nns\n\n\nBar-tailed Godwit - Red-necked Avocet\n3.01162330\n2.599¬†√ó¬†10‚àí3\n3.898¬†√ó¬†10‚àí2\n*\n\n\nCurlew Sandpiper - Eurasian Whimbrel\n-1.23435617\n2.171¬†√ó¬†10‚àí1\n1.000\nns\n\n\nCurlew Sandpiper - Pacific Golden-Plover\n-3.05419445\n2.257¬†√ó¬†10‚àí3\n3.385¬†√ó¬†10‚àí2\n*\n\n\nCurlew Sandpiper - Pied Stilt\n-3.28152837\n1.032¬†√ó¬†10‚àí3\n1.549¬†√ó¬†10‚àí2\n*\n\n\nCurlew Sandpiper - Red-necked Avocet\n0.12123149\n9.035¬†√ó¬†10‚àí1\n1.000\nns\n\n\nEurasian Whimbrel - Pacific Golden-Plover\n0.27558831\n7.829¬†√ó¬†10‚àí1\n1.000\nns\n\n\nEurasian Whimbrel - Pied Stilt\n-0.04364336\n9.652¬†√ó¬†10‚àí1\n1.000\nns\n\n\nEurasian Whimbrel - Red-necked Avocet\n1.19027225\n2.339¬†√ó¬†10‚àí1\n1.000\nns\n\n\nPacific Golden-Plover - Pied Stilt\n-1.15611921\n2.476¬†√ó¬†10‚àí1\n1.000\nns\n\n\nPacific Golden-Plover - Red-necked Avocet\n1.87002144\n6.148¬†√ó¬†10‚àí2\n9.222¬†√ó¬†10‚àí1\nns\n\n\nPied Stilt - Red-necked Avocet\n2.24439919\n2.481¬†√ó¬†10‚àí2\n3.721¬†√ó¬†10‚àí1\nns\n\n\n\nSignificance codes: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, ns = not significant. Green = significant. p unadj and p adj the raw and Bonferroni corrected p-values.\n\n\n\n\n\n\n\n\nThe table above shows which species are truly using different sites than another. Jensen-Shannon Distance measures dissimilarity in site-use composition between species pairs.\nHigher JSD goes with more different site used. The Dunn test then confirms if those differences are statistically real after Bonferroni correction.\n\n\nTidal dependance\nWe now want to clarify whether birds associate site composition depending the tide, therefore likely depending their behavior (i.e., foraging vs roosting).\nApplying the same method as before, we display below the results depending the tide.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable. Jensen-Shannon Divergence (JSD) for intra-species habitat similarity by tide state in the Hunter estuary.\n\n\nLower JSD = greater similarity in site use patterns between individuals within species\n\n\nTide\n\nSample Size\n\n\nJSD (Dissimilarity)\n\n\nSimilarity (1/JSD)\n\n\n\nN indiv.\nN detect.\nN comp.\nMean\nSD\nMean\nSD\n\n\n\n\nEurasian Whimbrel\n\n\nLow\n2\n997\n1\n0.707\nNA\n0.293\nNA\n\n\nHigh\n2\n4,981\n1\n0.064\nNA\n0.936\nNA\n\n\nCurlew Sandpiper\n\n\nLow\n5\n130,120\n10\n0.013\n0.009\n0.987\n0.009\n\n\nHigh\n5\n146,840\n10\n0.005\n0.003\n0.995\n0.003\n\n\nRed-necked Avocet\n\n\nLow\n3\n26,612\n3\n0.063\n0.044\n0.937\n0.044\n\n\nHigh\n3\n83,598\n3\n0.007\n0.005\n0.993\n0.005\n\n\nPacific Golden-Plover\n\n\nLow\n14\n647,268\n91\n0.288\n0.345\n0.712\n0.345\n\n\nHigh\n14\n633,871\n91\n0.308\n0.334\n0.692\n0.334\n\n\nPied Stilt\n\n\nLow\n6\n391,507\n15\n0.379\n0.437\n0.621\n0.437\n\n\nHigh\n6\n492,414\n15\n0.368\n0.440\n0.632\n0.440\n\n\nBar-tailed Godwit\n\n\nLow\n8\n20,558\n28\n0.593\n0.360\n0.407\n0.360\n\n\nHigh\n8\n111,630\n28\n0.541\n0.421\n0.459\n0.421\n\n\n\nLegend. n_indiv: tagged individuals per species√ótide combination; n_detect: total number of detections per species√ótide combination; n_comparisons: pairwise comparisons; mean_JSD ¬± sd_JSD: average dissimilarity in site used; mean_Similarity ¬± sd_Similarity: 1/JSD (average site used similarity). Low tide rows blue, High tide rows yellow.\n\n\n\n\n\n\n\n\nLet‚Äôs now visualise the results with a boxplot.\n\nggplot(\n  jsd_for_plot_tide,\n  aes(x = speciesEN, \n      y = value, \n      fill = speciesEN, \n      alpha = tideHighLow)) +\n  \n  geom_boxplot(aes(group = interaction(speciesEN, tideHighLow)), \n               position = position_dodge(width = 0.8), \n               outlier.shape = 16) +\n  \n  geom_point(aes(group = interaction(speciesEN, tideHighLow)),\n           position = position_jitterdodge(jitter.width = 0.1, dodge.width = 0.8), \n           size = 1.1, alpha = 0.6) +\n  \n  scale_fill_manual(values = species_colors) +\n  scale_alpha_manual(values = c(\"High\" = 1.0, \"Low\" = 0.2)) +\n  \n  labs(\n    title = \"Within species Jensen-Shannon Divergence by Tide\",\n    subtitle = \"JSD between individual pairs. (High tide: solid, Low tide: transparent)\",\n    x = \"Species\",\n    y = \"JSD\",\n    fill = \"Species\") +\n  \n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 9),\n    strip.text = element_text(face = \"bold\", size = 11),\n    legend.position = \"none\",\n    panel.grid.major.x = element_blank())\n\n\n\n\n\n\n\n\nWe will use Wilcoxon rank-sum test for each species if the composition of site used is tide dependent. It is a non-parametric test which compare distributions between two independent groups without assuming normality.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWilcoxon Test Results: High vs Low Tide JSD Comparison\n\n\nWithin species Jensen-Shannon Divergence between tide\n\n\nSpecies\n\nSample Size\n\n\nTide Effect (High vs Low)\n\n\n\nN High\nN Low\np-value\nSig.\n\n\n\n\nBar-tailed Godwit\n28\n28\n4.793¬†√ó¬†10‚àí1\nns\n\n\nCurlew Sandpiper\n10\n10\n2.507¬†√ó¬†10‚àí2\n*\n\n\nEurasian Whimbrel\n1\n1\nNA\n\n\n\nPacific Golden-Plover\n91\n91\n7.641¬†√ó¬†10‚àí1\nns\n\n\nPied Stilt\n15\n15\n9.164¬†√ó¬†10‚àí1\nns\n\n\nRed-necked Avocet\n3\n3\n1.000¬†√ó¬†10‚àí1\nns\n\n\n\nSignificance codes: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, ns = not significant. Wilcoxon rank-sum tests compare JSD distributions between High vs Low tide within each species. Green highlighting indicates significant tide effects (p &lt; 0.05).",
    "crumbs": [
      "Analysis",
      "Entropy, Eveness & Composition"
    ]
  }
]